(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8612],{23561:function(e,t,n){var o,r=Object.create,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t,n,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))!u.call(e,r)&&r!==n&&i(e,r,{get:()=>t[r],enumerable:!(o=a(t,r))||o.enumerable});return e},g={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(g,{Banner:()=>v}),e.exports=(o=g,f(i({},"__esModule",{value:!0}),o));var h=((e,t,n)=>(n=null!=e?r(c(e)):{},f(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n(67294)),m=(n(45697),n(48016)),b=n(96756),w=n(40384),v=(0,h.forwardRef)((function(e,t){let n=e,{children:o,classNames:r="pa-sm",className:i="",color:a="blue",dismiss:s,renderCloseButton:c=!0,alignment:f="left",as:g="div"}=n,v=((e,t)=>{var n={};for(var o in e)u.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&l)for(var o of l(e))t.indexOf(o)<0&&p.call(e,o)&&(n[o]=e[o]);return n})(n,["children","classNames","className","color","dismiss","renderCloseButton","alignment","as"]),y=g||"div",[O,S]=(0,h.useState)(!0);return O&&h.default.createElement(y,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))p.call(t,n)&&d(e,n,t[n]);return e})({ref:t,className:(0,m.getClasses)("banner pa-sm white hide-for-print flex justify-between",{[r]:r,[i]:i,[`bg-${a}`]:a,[f]:f})},v),h.default.createElement("div",{className:(0,m.getClasses)("self-center",{"w-100":"center"===f})},o),!1===c?null:h.default.createElement(b.ButtonIcon,{border:!1,renderIcon:w.Close16,iconSize:"16",color:"white",className:"ml-sm pa-0",onClick:()=>{S(!1),s&&s()},size:"small"}))}));v.displayName="Banner"},27167:function(e,t,n){var o,r=Object.create,i=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&g(e,n,t[n]);if(u)for(var n of u(t))f.call(t,n)&&g(e,n,t[n]);return e},m=(e,t)=>{var n={};for(var o in e)d.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&u)for(var o of u(e))t.indexOf(o)<0&&f.call(e,o)&&(n[o]=e[o]);return n},b=(e,t,n,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of c(t))!d.call(e,r)&&r!==n&&i(e,r,{get:()=>t[r],enumerable:!(o=s(t,r))||o.enumerable});return e},w=(e,t,n)=>(n=null!=e?r(p(e)):{},b(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),v={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(v,{Refresh16:()=>I}),e.exports=(o=v,b(i({},"__esModule",{value:!0}),o));n(45697);var y=w(n(67294)),O=(n(45697),w(n(67294))),S=n(48016),j=O.default.forwardRef((function(e,t){let n=e,{className:o="",size:r="16",fillRule:i="nonzero",fill:s="",title:c="",path:u="",viewBox:p=""}=n,d=m(n,["className","size","fillRule","fill","title","path","viewBox"]),f=s?`fill-${s}`:"";return u?O.default.createElement("svg",((e,t)=>a(e,l(t)))(h({ref:t,className:(0,S.getClasses)("content-box",{[f]:f,[o]:o}),width:r,height:r,viewBox:p||`0 0 ${r} ${r}`,xmlns:"http://www.w3.org/2000/svg"},d),{"aria-hidden":"true",focusable:"false",role:"img"}),""!==c&&O.default.createElement("title",null,c),O.default.createElement("path",{d:u,fillRule:i})):null}));j.displayName="IconBase";var I=y.default.forwardRef((function(e,t){let n=e,{className:o,fill:r,size:i="16",title:a="Refresh"}=n,s=m(n,["className","fill","size","title"]);return y.default.createElement(j,h({ref:t,className:o,fill:r,title:a,size:i,path:"M7.872 2a6 6 0 1 1-3.85 10.603l1.284-1.534a4 4 0 1 0-.199-5.961L7 7H2V2l1.693 1.693A5.99 5.99 0 0 1 7.872 2z",fillRule:"nonzero"},s))}));I.displayName="Refresh16"},34022:function(e,t,n){var o,r=Object.create,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))p.call(t,n)&&d(e,n,t[n]);return e},g=(e,t,n,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))!u.call(e,r)&&r!==n&&i(e,r,{get:()=>t[r],enumerable:!(o=a(t,r))||o.enumerable});return e},h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{NotSmallScreen:()=>ee,addToList:()=>z,domain:()=>ne,getAddToListBtnDetails:()=>B,getClasses:()=>m.getClasses,getCookie:()=>N,getEnv:()=>G,getGiftShareCountAndURL:()=>q,getIdentityUrl:()=>D,getNewGiftShareURL:()=>K,handleEmailClick:()=>S,handleFacebookClick:()=>w,handleLinkedInClick:()=>O,handlePinterestClick:()=>y,handleTwitterClick:()=>v,headerLoginUrl:()=>ie,isAuthenticated:()=>$,isMobileDevice:()=>te,isSubscriber:()=>U,lg:()=>Z,loginUrl:()=>re,logoutUrl:()=>ae,md:()=>Y,profileUrl:()=>se,removeFromMyList:()=>J,setCookie:()=>P,sm:()=>X,subscribeUrl:()=>oe,synchSavedStoriesBtn:()=>M,urlSearchParams:()=>Q}),e.exports=(o=h,g(i({},"__esModule",{value:!0}),o));var m=n(48016),b=({evtOverride:e,category:t,action:n,label:o,additionalParams:r})=>{if(typeof window>"u"||!window.dataLayer)return;let i=f({event:null==e?`site-${n}`:e,category:t,action:n,label:o},r);r&&r.event&&(i.event=r.event),window.dataLayer.push(i)};var w=({event:e,url:t})=>{e.preventDefault(),window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`,"share_facebook","width=658, height=354, scrollbars=no"),b({category:"social",action:"social-share",label:"social-share-facebook"})},v=({event:e,headline:t,shortUrl:n})=>{e.preventDefault(),window.open(`https://twitter.com/share?url=${encodeURIComponent(n)}%3Ftid=ss_tw&text=${encodeURIComponent(t)}`,"share_twitter","width=550, height=350, scrollbars=no"),b({category:"social",action:"social-share",label:"social-share-twitter"})},y=({event:e,headline:t,url:n})=>{e.preventDefault(),window.open(`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(n)}&description=${encodeURIComponent(t)}`,"share_pintrest","width=550, height=350, scrollbars=no"),b({category:"social",action:"social-share",label:"social-share-pinterest"})},O=({event:e,headline:t,url:n})=>{e.preventDefault(),window.open(`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(n)}&title=${encodeURIComponent(t)}`,"share_linkedin","width=550, height=550, scrollbars=no"),b({category:"social",action:"social-share",label:"social-share-linkedin"})},S=({event:e,headline:t,url:n})=>{e.preventDefault(),window.location=`mailto:?subject=${encodeURIComponent(`[The Washington Post] ${t}`)}&body=${encodeURIComponent(n)}`,b({category:"social",action:"social-share",label:"social-share-email"})},j=e=>new Promise((t=>e.json().then((n=>t({status:e.status,ok:e.ok,json:n}))))),I=e=>{if(!e.ok)throw e.json||e;return e.json},C={Accept:"application/json","Content-Type":"application/json"},_=(e,t={method:"GET"})=>{let n=t;return n.headers=f(f({},t.headers),C),fetch(e,n).then(j).then(I)},N=(((e,t,n)=>{n=null!=e?r(c(e)):{},g(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)})(n(29208)),e=>{if(typeof window>"u")return;let t=document.cookie.match(`(^|;) ?${e}=([^;]*)(;|$)`);return t?t[2]:null}),P=(e,t,n=!1)=>{document.cookie=`${e}=${t};`+(n&&`domain=.${window.origin.split(".").slice(-2).join(".")}; path=/;`)},k=N;function $(){let e=k("wapo_login_id"),t=k("wapo_secure_login_id");return e&&t}var x=()=>({wapoSecureID:k("wapo_secure_login_id"),wapoLoginID:k("wapo_login_id"),userAgent:typeof window<"u"?window.navigator.userAgent:void 0});function U(){if($()){let e=k("wapo_actmgmt");return e&&-1!==e.indexOf("isub:1")}return!1}var D={dev:"https://id.digitalink.com/identity",sandbox:"https://idstg.washingtonpost.com/identity",prod:"https://login.washingtonpost.com/identity"},A="wapo_saved_stories",E=null,R=async(e,t)=>{if(!E){let n=x(),o={Accept:"application/json","Content-Type":"application/json",loginId:n.wapoLoginID,Authorization:`Bearer ${n.wapoSecureID}`,"Cache-Control":"no-cache",currentUrl:`${t}`,"Client-App":"fusion"};E=_(`${e}/pref/saved_stories/preference`,{headers:o})}return await E};function T(){try{let e=(new Date).toString();window.sessionStorage.setItem(e,e);let t=window.sessionStorage.getItem(e)===e;return window.sessionStorage.removeItem(e),t}catch{return!1}}var L=(e,t)=>{if(T())try{let n=sessionStorage.getItem(A),o=JSON.parse(n);o[e]&&(o[e].state=t,sessionStorage.setItem(A,JSON.stringify(o)))}catch{}},B=async(e,t)=>{let n=T();try{let o=!1,r=null,i=n?sessionStorage.getItem(A):null;if(i){let e=JSON.parse(localStorage.getItem("wapo_identity")||"{}");if(r=JSON.parse(i),r[t]&&e.wapo_login_id===r[t].loginId)return r[t];if(r[t]&&(sessionStorage.removeItem(A),o=!0),!r[t]){let t=Object.values(r);e.wapo_login_id!==t[0].loginId&&(sessionStorage.removeItem(A),o=!0)}}let a=await R(e,t);return n&&a.loginId&&a.state&&["saved","notsaved"].includes(a.state)&&(o||!r?sessionStorage.setItem(A,JSON.stringify({[t]:a})):sessionStorage.setItem(A,JSON.stringify(f({[t]:a},r)))),a}catch{return sessionStorage.removeItem(A),R()}},M=(e,t,n)=>{let o=x(),r={Accept:"application/json","Content-Type":"application/json",loginId:o.wapoLoginID,Authorization:`Bearer ${o.wapoSecureID}`,limit:1,"Client-App":"fusion"},i=[{canonicalURL:`${t}`,isDeleted:n,lastUpdated:(new Date).toISOString(),limit:1}];return _(`${e}/pref/saved_stories/sync`,{method:"POST",headers:r,body:JSON.stringify({transactions:i})})},z=(e,t)=>(function(e,t,n,o){if(typeof window>"u"||!window.dataLayer)return;let r=f({event:`site-${e}`,category:t,action:e,label:n},o);o&&o.event&&(r.event=o.event),window.dataLayer.push(r)}("add-to-list","onpage","article-add-to-list"),M(e,t,!1).then((e=>!!e.isActive&&(L(t,"saved"),"saved"))).catch((e=>(console.error("there is an error in button api response",e),e)))),J=(e,t)=>M(e,t,!0).then((e=>!!e.isActive&&(L(t,"notsaved"),"notsaved"))).catch((e=>(console.error("there is an error in button api response",e),e))),G=()=>{let e=typeof window>"u"?"":window.location&&window.location.href||"",t="prod";return/(sandbox\.|.preview.now.washingtonpost.com|localhost.washingtonpost.com)/.test(e)?t="sandbox":/dev\.washpost|localhost|digitalink\.com/.test(e)&&(t="dev"),t},W={dev:"https://subscribe.digitalink.com",sandbox:"https://subs-stage.washingtonpost.com",prod:"https://subscribe.washingtonpost.com"}[G()],F=`${W}/subscriptionapi/v2/subscriptions/current/gift-articles`,H=`${W}/subscriptionapi/v2/subscriptions/current/gift-articles/remaining-count`,V=(e,{canonicalUrl:t,isDebug:n}={})=>Promise.race([_(e?F:H,{body:JSON.stringify({articleUrl:t}),credentials:"include",method:"POST"}),new Promise(((t,n)=>setTimeout((()=>n(new Error("timeout"))),e?5e3:3e3)))]).then((({hasSharedArticle:t=!1,status:o,state:r,remainingCount:i=null,url:a=""})=>{let s={hasSharedArticle:!1,error:!1,errorState:null,remainingCount:null,url:null};return"SUCCESS"!==o&&(n&&console.log(`Gift Share API Status ${o} ${r}`),s.errorState=r,s.error=!0),0!==a.length?s.url=a:0===a.length&&e&&(s.errorState=0,s.error=!0),Number.isInteger(i)&&(s.remainingCount=i),t&&(s.hasSharedArticle=!0),s})).catch((e=>(n&&(console.log("Gift Share API Error"),console.log(e)),{error:!0,errorState:10,remainingCount:null,url:null}))),q=(e,t)=>V(!1,{canonicalUrl:e,isDebug:t}),K=(e,t)=>V(!0,{canonicalUrl:e,isDebug:t}),Q=e=>{let t=[],n=e;e.includes("?")&&(n=e.slice(1)),n.split("&").forEach((e=>{let[n=!1,o=!1]=e.split("=");t.push({name:n,val:o})}));let o=e=>{try{return t.find((t=>t.name===e))}catch(n){console.error(n)}};return{get:e=>{let t=o(e);return!!t&&t.val},has:e=>{let t=o(e);return!!t&&e===t.name}}},X=767,Y=1023,Z=1440,ee=({children:e})=>typeof window<"u"&&window.innerWidth>767?e:null,te=()=>!!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)),ne={dev:"https://subscribe.digitalink.com",sandbox:"https://subs-stage.washingtonpost.com",prod:"https://subscribe.washingtonpost.com"},oe={dev:"https://subscribe.digitalink.com",sandbox:"https://subs-stage.washingtonpost.com",prod:"https://subscribe.washingtonpost.com"},re={dev:"https://subscribe.digitalink.com/signin",sandbox:"https://subs-stage.washingtonpost.com/signin",prod:"https://www.washingtonpost.com/subscribe/signin"},ie={dev:"https://subscribe.digitalink.com/signin?",sandbox:"https://subs-stage.washingtonpost.com/signin?",prod:"https://www.washingtonpost.com/subscribe/signin?"},ae={dev:"https://subscribe.digitalink.com/signin/?action=signout&",sandbox:"https://subs-stage.washingtonpost.com/signin?action=signout&",prod:"https://www.washingtonpost.com/subscribe/signin/?action=signout&"},se={dev:"https://subscribe.digitalink.com/profile/#",sandbox:"https://subs-stage.washingtonpost.com/profile/#",prod:"https://subscribe.washingtonpost.com/profile/#"}},93096:function(e,t,n){var o="Expected a function",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,p=c||u||Function("return this")(),d=Object.prototype.toString,f=Math.max,g=Math.min,h=function(){return p.Date.now()};function m(e,t,n){var r,i,a,s,l,c,u=0,p=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError(o);function v(t){var n=r,o=i;return r=i=void 0,u=t,s=e.apply(o,n)}function y(e){return u=e,l=setTimeout(S,t),p?v(e):s}function O(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=a}function S(){var e=h();if(O(e))return j(e);l=setTimeout(S,function(e){var n=t-(e-c);return d?g(n,a-(e-u)):n}(e))}function j(e){return l=void 0,m&&r?v(e):(r=i=void 0,s)}function I(){var e=h(),n=O(e);if(r=arguments,i=this,c=e,n){if(void 0===l)return y(c);if(d)return l=setTimeout(S,t),v(c)}return void 0===l&&(l=setTimeout(S,t)),s}return t=w(t)||0,b(n)&&(p=!!n.leading,a=(d="maxWait"in n)?f(w(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),I.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=c=i=l=void 0},I.flush=function(){return void 0===l?s:j(h())},I}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(o);return b(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),m(e,t,{leading:r,maxWait:t,trailing:i})}}}]);