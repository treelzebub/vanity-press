/*! For license information please see main.js.LICENSE.txt */
(()=>{var e,t,i={230:function(e,t){var i=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var i="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,o="ArrayBuffer"in e;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}}))}function g(e){var t=new FileReader,i=f(t);return t.readAsArrayBuffer(e),i}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&r&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,i,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,i=f(t=new FileReader),t.readAsText(e),i;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=d(e),t=l(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},h.prototype.delete=function(e){delete this.map[d(e)]},h.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},h.prototype.set=function(e,t){this.map[d(e)]=l(t)},h.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,i){e.push(i)})),c(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,i){e.push([i,t])})),c(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var i,n,r=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=(i=t.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(r))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];_.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function z(e,i){return new Promise((function(n,s){var o=new y(e,i);if(o.signal&&o.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,i={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var i=e.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();t.append(n,r)}})),t)};i.url="responseURL"in a?a.responseURL:i.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new _(r,i))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",u)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}z.polyfill=!0,e.fetch||(e.fetch=z,e.Headers=h,e.Request=y,e.Response=_),t.Headers=h,t.Request=y,t.Response=_,t.fetch=z}({})}(i),delete i.fetch.polyfill,(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},538:e=>{"use strict";var t=Object.prototype.hasOwnProperty,i="~";function n(){}function r(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new r(n,s||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),a.prototype.eventNames=function(){var e,n,r=[];if(0===this._eventsCount)return r;for(n in e=this._events)t.call(e,n)&&r.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,o=new Array(s);r<s;r++)o[r]=n[r].fn;return o},a.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,r,s,o){var a=i?i+e:e;if(!this._events[a])return!1;var u,d,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,s),!0;case 6:return l.fn.call(l.context,t,n,r,s,o),!0}for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];l.fn.apply(l.context,u)}else{var h,p=l.length;for(d=0;d<p;d++)switch(l[d].once&&this.removeListener(e,l[d].fn,void 0,!0),c){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,t);break;case 3:l[d].fn.call(l[d].context,t,n);break;case 4:l[d].fn.call(l[d].context,t,n,r);break;default:if(!u)for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l[d].fn.apply(l[d].context,u)}}return!0},a.prototype.on=function(e,t,i){return s(this,e,t,i,!1)},a.prototype.once=function(e,t,i){return s(this,e,t,i,!0)},a.prototype.removeListener=function(e,t,n,r){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||o(this,s);else{for(var u=0,d=[],l=a.length;u<l;u++)(a[u].fn!==t||r&&!a[u].once||n&&a[u].context!==n)&&d.push(a[u]);d.length?this._events[s]=1===d.length?d[0]:d:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,e.exports=a},129:(e,t,i)=>{var n;i.amdD,void 0===(n=function(){var e=function(e){return Number.prototype.toString.call(e,36).toUpperCase()},t=function(e){return parseInt(e,36)},i=Array.prototype.indexOf||function(e,t){for(var i=t||0,n=this.length;i<n;i++)if(this[i]===e)return i;return-1};return{JSON,pack:function(t,n){var r=(n=n||{}).verbose||!1;r&&console.log("Normalize the JSON Object"),t="string"==typeof t?this.JSON.parse(t):t,r&&console.log("Creating a empty dictionary");var s={strings:[],integers:[],floats:[]};r&&console.log("Creating the AST");var o=function t(n){r&&console.log("Calling recursiveAstBuilder with "+this.JSON.stringify(n));var o,a,u=typeof n;if(null===n)return{type:"null",index:-3};if(void 0===n)return{type:"undefined",index:-5};if(n instanceof Array){var d=["@"];for(var l in n)n.hasOwnProperty(l)&&d.push(t(n[l]));return d}if("object"===u){for(var c in d=["$"],n)n.hasOwnProperty(c)&&(d.push(t(c)),d.push(t(n[c])));return d}if(""===n)return{type:"empty",index:-4};if("string"===u)return-1==(o=i.call(s.strings,n))&&(s.strings.push("string"!=typeof(a=n)?a:a.replace(/[\+ \|\^\%]/g,(function(e){return{" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25"}[e]}))),o=s.strings.length-1),{type:"strings",index:o};if("number"===u&&n%1==0)return-1==(o=i.call(s.integers,n))&&(s.integers.push(e(n)),o=s.integers.length-1),{type:"integers",index:o};if("number"===u)return-1==(o=i.call(s.floats,n))&&(s.floats.push(n),o=s.floats.length-1),{type:"floats",index:o};if("boolean"===u)return{type:"boolean",index:n?-1:-2};throw new Error("Unexpected argument of type "+typeof n)}(t),a=s.strings.length,u=s.integers.length;s.floats.length,r&&console.log("Parsing the dictionary");var d=s.strings.join("|");return d+="^"+s.integers.join("|"),d+="^"+s.floats.join("|"),r&&console.log("Parsing the structure"),d+="^"+function t(i){if(r&&console.log("Calling a recursiveParser with "+this.JSON.stringify(i)),i instanceof Array){var n=i.shift();for(var s in i)i.hasOwnProperty(s)&&(n+=t(i[s])+"|");return("|"===n[n.length-1]?n.slice(0,-1):n)+"]"}var o=i.type,d=i.index;if("strings"===o)return e(d);if("integers"===o)return e(a+d);if("floats"===o)return e(a+u+d);if("boolean"===o)return i.index;if("null"===o)return-3;if("undefined"===o)return-5;if("empty"===o)return-4;throw new TypeError("The item is alien!")}(o),r&&console.log("Ending parser"),n.debug?{dictionary:s,ast:o,packed:d}:d},unpack:function(e,i){i=i||{};var n=e.split("^");i.verbose&&console.log("Building dictionary");var r,s=[],o=n[0];if(""!==o){o=o.split("|"),i.verbose&&console.log("Parse the strings dictionary");for(var a=0,u=o.length;a<u;a++)s.push("string"!=typeof(r=o[a])?r:r.replace(/\+|%2B|%7C|%5E|%25/g,(function(e){return{"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%"}[e]})))}if(""!==(o=n[1]))for(o=o.split("|"),i.verbose&&console.log("Parse the integers dictionary"),a=0,u=o.length;a<u;a++)s.push(t(o[a]));if(""!==(o=n[2]))for(o=o.split("|"),i.verbose&&console.log("Parse the floats dictionary"),a=0,u=o.length;a<u;a++)s.push(parseFloat(o[a]));o=null,i.verbose&&console.log("Tokenizing the structure");var d="",l=[],c=n[3].length;for(a=0;a<c;a++){var h=n[3].charAt(a);"|"===h||"$"===h||"@"===h||"]"===h?(d&&(l.push(t(d)),d=""),"|"!==h&&l.push(h)):d+=h}var p=l.length,f=0;return i.verbose&&console.log("Starting recursive parser"),function e(){var t=l[f++];if(i.verbose&&console.log("Reading collection type "+("$"===t?"object":"Array")),"@"===t){for(var n=[];f<p;f++){var r=l[f];if(i.verbose&&console.log("Read "+r+" symbol"),"]"===r)return n;if("@"===r||"$"===r)n.push(e());else switch(r){case-1:n.push(!0);break;case-2:n.push(!1);break;case-3:n.push(null);break;case-5:n.push(void 0);break;case-4:n.push("");break;default:n.push(s[r])}}return i.verbose&&console.log("Parsed "+this.JSON.stringify(n)),n}if("$"===t){for(n={};f<p;f++){var o=l[f];if("]"===o)return n;if(o=-4===o?"":s[o],"@"===(r=l[++f])||"$"===r)n[o]=e();else switch(r){case-1:n[o]=!0;break;case-2:n[o]=!1;break;case-3:n[o]=null;break;case-5:n[o]=void 0;break;case-4:n[o]="";break;default:n[o]=s[r]}}return i.verbose&&console.log("Parsed "+this.JSON.stringify(n)),n}throw new TypeError("Bad token "+t+" isn't a type")}()}}}.apply(t,[]))||(e.exports=n)},757:e=>{var t=function(e){"use strict";var t,i=Object.prototype,n=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,i){return e[t]=i}}function d(e,t,i,n){var r=t&&t.prototype instanceof m?t:m,s=Object.create(r.prototype),o=new C(n||[]);return s._invoke=function(e,t,i){var n=c;return function(r,s){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw s;return O()}for(i.method=r,i.arg=s;;){var o=i.delegate;if(o){var a=E(o,i);if(a){if(a===g)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===c)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=p;var u=l(e,t,i);if("normal"===u.type){if(n=i.done?f:h,u.arg===g)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(n=f,i.method="throw",i.arg=u.arg)}}}(e,i,o),s}function l(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var c="suspendedStart",h="suspendedYield",p="executing",f="completed",g={};function m(){}function v(){}function b(){}var y={};u(y,s,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(k([])));_&&_!==i&&n.call(_,s)&&(y=_);var x=b.prototype=m.prototype=Object.create(y);function z(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function i(r,s,o,a){var u=l(e[r],e,s);if("throw"!==u.type){var d=u.arg,c=d.value;return c&&"object"==typeof c&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){i("next",e,o,a)}),(function(e){i("throw",e,o,a)})):t.resolve(c).then((function(e){d.value=e,o(d)}),(function(e){return i("throw",e,o,a)}))}a(u.arg)}var r;this._invoke=function(e,n){function s(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(s,s):s()}}function E(e,i){var n=e.iterator[i.method];if(n===t){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=t,E(e,i),"throw"===i.method))return g;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=l(n,e.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[e.resultName]=s.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function k(e){if(e){var i=e[s];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function i(){for(;++r<e.length;)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return v.prototype=b,u(x,"constructor",b),u(b,"constructor",v),v.displayName=u(b,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,a,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},z(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,i,n,r,s){void 0===s&&(s=Promise);var o=new S(d(t,i,n,r),s);return e.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},z(x),u(x,a,"Generator"),u(x,s,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(n,r){return a.type="throw",a.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),d=n.call(o,"finallyLoc");if(u&&d){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),A(i),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;A(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:k(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},914:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CustomKvGenerator:()=>u,init:()=>d});var n=i(63);const{getCookie:r,safeGet:s,urlCheck:o}=n.default,a=e=>{var t;const i=(null==e||null===(t=e.general)||void 0===t?void 0:t.slotPrefix)||"zeus_",n=null==e?void 0:e.wpAdParams,a=function(){const e=r("wapo_actmgmt"),t=r("wapo_login_id"),i=(null==e?void 0:e.indexOf("isub:1"))>-1?"sub_":"",n=""===i&&t?"reg_":"";return document.cookie.split(";").filter((e=>-1!==e.indexOf("wp_ak_v_"))).map((e=>{const t=e.trim().split("="),r=t[0],s=t[1],o="".concat(n).concat(i).concat(r.replace(/.*wp_ak_v_/,""));return 2!==t.length||s.includes("|")?[o,s.includes("|")?s.split("|")[0]:t[t.findIndex((e=>e.includes("~rn")))+1]]:[o,s]}))}();return{setCtr:e=>{let{zeus:t,targeting:i,isRefreshed:n}=e;const r=[null!=t&&t.variant?"_".concat(t.variant):"",i.pos?"_".concat(i.pos):"",n?"_refresh,refresh":""];return{ctr:"zeus".concat(r.filter(Boolean).join("")).split(",")}},setSafety:e=>{let{targeting:t}=e;return s(n,"ias.kvs.".concat(i).concat(t.pos),{})},setRefresh:e=>{let{isRefreshed:t}=e;return{wp_ad_refresh:t?"1":"0"}},setKw:()=>{const e=window.location.href,t=o(e,"test_ads","variable");return t?{kw:["test_".concat(t)]}:{}},setRefreshCount:e=>{let{pos:t,renderCount:i}=e;return{wp_refresh:"".concat(t,"_").concat(i)}},setPwt:e=>{let{pos:t,isRefreshed:i}=e;if(0!==a.length)return{pwt:a.map((e=>{const[n,r]=e,s=[t];return i&&s.push("refresh"),s.push(n),s.push(r),s.join("_")}))}}}};class u{constructor(e){this.zeus=e,this.url=window.location.href,this.slotKvs={},this.setTargetingOnConnectedNodes(),this.keyvalues={},this.runKeyValueFunctions()}runKeyValueFunctions(){try{const e=()=>{this.zeus.emit("ADD_KEYVALUES",this.keyvalues)},t=window.wp_meta_data||window.wpAdFusion?window.wp_meta_data||window.wpAdFusion:{},i=new class{constructor(e,t,i){this.zeus=i,this.config=this.zeus.config,this.exclusionsKeyWords=this.config.keyValues.exclusionsKeyWords,this.keyValues={},this.metaData=e,this.url=t,this.wpAdParams=this.config.wpAdParams,this.categoryExclusions=[],this.commercialNode=n.default.safeGet(this.wpAdParams,"commercialNode"),this.zeusAudience=n.default.isStorageAvailable()&&JSON.parse(localStorage.getItem("zeus_audience")||"{}");const r=!!n.default.isStorageAvailable()&&localStorage.getItem("zeus_insights_session");this.zeus_insights_session=r?JSON.parse(r):{}}itid_temp(){const e=n.default.safeGet(window,"google_tag_manager.GTM-WHNNX8B"),t=e?e.dataLayer.get("itid"):n.default.urlCheck(this.url,"itid","variable");t&&"(not set)"!=t&&(this.keyValues.itid_temp=t)}itid(){const e=n.default.urlCheck(this.url,"itid","variable");e&&(this.keyValues.itid=e)}itidr(){const e=n.default.urlCheck(this.url,"itidr","variable");e&&(this.keyValues.itidr=e)}j_tid(){const e=(window.j_tid?window.j_tid.toString():window.btoa(Date.now().toString()).replace(/=/gi,"")).toLowerCase(),t=n.default.safeGet(window,"google_tag_manager.GTM-WHNNX8B");this.keyValues.j_tid=e,window.j_tid=e,t&&window.dataLayer&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({j_tid:e}))}j_ucid(){var e;window.dataLayer=window.dataLayer||[];let t=(null===(e=window.dataLayer.find((e=>e.j_ucid)))||void 0===e?void 0:e.j_ucid)||localStorage.getItem("uuid");t||(t=n.default.generateUUID(),localStorage.setItem("uuid",t));const i=t.toString().toLowerCase();this.keyValues.j_ucid=i,window.dataLayer.push({j_ucid:i})}j_cid(e){window.ga=window.ga||function(){window.ga.q=window.ga.q||[],window.ga.q.push(arguments)},window.ga.l=+new Date,window.ga("create","UA-133956668-1","auto"),window.ga((t=>{var i=t.get("clientId");this.keyValues.j_cid=i,e()}))}sub(){const e=n.default.getCookie("wapo_actmgmt");this.keyValues.sub=e&&e.indexOf("isub:1")>-1?"yes":e.indexOf("S:T")>-1?"terminated":"no"}WPATC(){const e=n.default.getCookie("WPATC"),t=e?unescape(e).split(":"):void 0;t&&t.forEach((e=>{const[t,i]=e.split("=");i&&this.keyValues[t]?this.keyValues[t].push(i):i&&!this.keyValues[t]&&(this.keyValues[t]=[i])}))}crd(){const e=e=>{let t=this.keyValues.wp_ref;if(e){const n={facebook:new RegExp(/facebook\.com/g),twitter:new RegExp(/\/t\.co|twitter.com/g),instagram:new RegExp(/instagram\.com|linkin\.bio/g),linkedin:new RegExp(/linkedin\.com/g)};for(var i in n)n[i].test(e)&&(t=[i])}this.keyValues.crd=t};this.zeus_insights_session.original_referrer?e(this.zeus_insights_session.original_referrer):e("".concat(document.referrer))}wp_ref(){if(this.zeus_insights_session.original_referrer_group)this.keyValues.wp_ref=[this.zeus_insights_session.original_referrer_group];else{const t="".concat(document.referrer),i=[],r={social:new RegExp(/facebook\.com|digg\.com|\/t\.co|reddit\.com|newstrust\.net|twitter\.com|linkedin\.com|instagram\.com|snapchat|tumblr\.com|linkin\.bio/i),search:new RegExp(/google\.com|bing\.com|yahoo\.com|duckduckgo\.com|search\.aol\.com/),news:new RegExp(/ampproject\.org|alert|msn\.com|pocket|smartnews|apple/i),app:new RegExp(/nativeapp\.toutiao\.com|flipboard\.com|newsbreakapp\.com|viber/i),fbnotify:new RegExp(/notify\.co/i)};for(var e in r)r[e].test(t)&&i.push(e);document.referrer||i.push("direct"),n.default.safeGet(window,"location.search","").match("wpisrc=")&&i.push("email"),i.length&&(this.keyValues.wp_ref=i)}}embed_domain(){const e=(this.url!=n.default.safeGet(window,"parent.location.href")?document.referrer:document.location.href).match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);if(e.length<=2)return;const t=e[2];if(null==t)return void(this.keyValues.embed_domain=t);let i=t;const r=t.split(".").reverse();i=null!=r&&r.length>1?"".concat(r[1],".").concat(r[0]):i,i=-1!=t.toLowerCase().indexOf(".co.uk")&&r.length>2?"".concat(r[2],".").concat(i):i,this.keyValues.embed_domain=i}wp_fusion(){this.keyValues.wp_fusion=window.wpAdFusion?"1":"0"}addSegmentsToAux(e){const t=localStorage.getItem("usersegmentsAdops"),i=t?JSON.parse(t):{};for(const t in i)1===i[t]&&e.push(t)}getAuxMap(){var e;return Array.isArray(null===(e=this.zeusAudience)||void 0===e?void 0:e.ca)?this.zeusAudience.ca:localStorage.getItem("clavis.targeting")?JSON.parse(localStorage.getItem("clavis.targeting")).aux_map:localStorage.getItem("targeting_aux_map")?localStorage.getItem("targeting_aux_map").split(","):void 0}getContextualTargetingCa(){const e=n.default.safeGet(this.metaData,"contextualTargeting.active_keys",[]).filter((e=>{let{key:t}=e;return"ca"===t}))[0]||{values:[]};return Array.isArray(e.values)?e.values:[e.values]}ca(){if(!n.default.isStorageAvailable())return;const e=this.getAuxMap()||[],t=this.getContextualTargetingCa(),i=n.default.safeGet(this.metaData,"clavis.auxiliaries",[]),r=t.length>0?t:i,s=[...e.map((e=>e.toString().toLocaleLowerCase())),...r.map((e=>e.toString().toLocaleLowerCase()))];this.addSegmentsToAux(s),s.length&&(this.keyValues.ca="true,".concat(s))}audienceKeys(){var e;if(!n.default.isStorageAvailable())return;const t=null!==(e=this.zeusAudience)&&void 0!==e&&e.active_keys?this.zeusAudience.active_keys:["nl","ae"];Array.isArray(t)&&t.forEach((e=>{"ca"!=e&&Array.isArray(this.zeusAudience[e])&&(this.keyValues[e]=this.zeusAudience[e])}))}contextualTargetingKeys(){const e=n.default.safeGet(this.metaData,"contextualTargeting.active_keys",[]);Array.isArray(e)&&e.forEach((e=>{const t=n.default.safeGet(e,"key",null),i=n.default.safeGet(e,"values",null);null===t||"ca"===t||t in this.keyValues||null===i||!Array.isArray(i)&&"string"!=typeof i||(this.keyValues[t]=i)}))}ct(){var e,t,i;null!==(e=this.metaData)&&void 0!==e&&null!==(t=e.clavis)&&void 0!==t&&null!==(i=t.ct)&&void 0!==i&&i.length&&(this.keyValues.ct="true,".concat(this.metaData.clavis.ct))}hl(){(/post-opinion/.test(this.commercialNode)||/podcasts\/el-washington-post-podcast/.test(this.commercialNode))&&(this.keyValues.hl="es")}wpnode(){this.metaData&&this.commercialNode&&(this.keyValues.wpnode=this.commercialNode)}page(){const e=n.default.safeGet(this.metaData,"contentType");e&&(this.keyValues.page=e.toString().toLowerCase())}pageId(){const e=n.default.safeGet(this.metaData,"page_id"),t=n.default.safeGet(this.metaData,"pageId"),i=e||t;i&&(this.keyValues.pageId=i)}wp_pub_date(){const e=n.default.safeGet(this.metaData,"meta_date",[]),t=n.default.safeGet(this.metaData,"firstPubDate"),i=t?new Date(t).getTime():void 0,r=e.length?1e3*e[0]:i;if(!r)return;const s=((new Date).getTime()-r)/864e5;s>90||(this.keyValues.wp_pub_date=[],s<=2&&this.keyValues.wp_pub_date.push(2),s<=7&&this.keyValues.wp_pub_date.push(7),s<=30&&this.keyValues.wp_pub_date.push(30),s<=90&&this.keyValues.wp_pub_date.push(90))}author(){const e=n.default.safeGet(this.metaData,"author");if(!e)return;const t="string"==typeof e||e instanceof String?e.split(" "):e,i=t.length?t.map((e=>e.replace(/[^\w\s]/gi,"").replace(/\s/g,"_").toLowerCase())):[];this.keyValues.author=i}spon_con(){const e=n.default.urlCheck(this.url,"spon_con","variable"),t=e?[e]:[];n.default.safeGet(this.metaData,"tags_for_paywall_subs",null),this.keyValues.spon_con=t}wp_tag(){const e=n.default.safeGet(this.metaData,"tags")||[],t=e.length?e.map((e=>e.toString().replace(/\s/g,"").toLowerCase())):[];t.length&&(this.keyValues.wp_tag=t)}wp_tab(){const e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e>=748&&e<=989?this.keyValues.wp_tab="748-989":e>=990&&e<=1339?this.keyValues.wp_tab="990plus":e>=1340&&(this.keyValues.wp_tab="1340plus")}exclusions(){let e;const t=n.default.safeGet(this.metaData,"contentType"),i="MediaGallery"===t,r="VideoStory"===t,s=new RegExp(/washingtonpost\.com|homepage|personalpost|obituaries|weather|jobs\/search/);if((i||r)&&this.categoryExclusions.push("media"),(s.test(this.commercialNode)||r)&&this.categoryExclusions.push("intrusive"),"front"===t)return;const o=[...n.default.safeGet(this.metaData,"keywords",[]),...n.default.safeGet(this.metaData,"clavis.keywords",[])].join(",");for(e in this.exclusionsKeyWords){const t=this.exclusionsKeyWords[e]instanceof Array?this.exclusionsKeyWords[e]:[this.exclusionsKeyWords[e]],i=[],n="(|s|es|ed|ing|er)";t.forEach((e=>{i.push(e+n)}));const r="\\b".concat(i.join("\\b|\\b"),"\\b");new RegExp(r,"i").test(o)&&this.categoryExclusions.push(e)}}setEmailSpon(){const e=n.default.urlCheck(this.url,"wpisrc","variable");this.keyValues.email_spon=e?"".concat(e,",1"):null}setPcr(){this.keyValues.pcr="n_e";try{navigator.globalPrivacyControl&&(this.keyValues.pcr="y_e");const e=e=>{const{globalPrivacyControl:t}=navigator||{},{geoState:i}=e||{};"CA"===i&&(this.keyValues.pcr=t?"y_ca":"n_ca")};window.registerAuthConsumer?window.registerAuthConsumer(e):(window.authConsumers=window.authConsumers||[],window.authConsumers.push(e))}catch(e){this.zeus.error("Can not register AuthConsumer",{name,err:e})}}subtype(){var e,t;const i=null===(e=window)||void 0===e||null===(t=e.wpMetaData)||void 0===t?void 0:t.subType;i&&(this.keyValues.subtype=i)}siteABTestKv(){this.keyValues.kz=1}zv(){const{pageType:e="",renderingEnv:t=""}=window;"next"!==t||"article"!==e&&"author"!==e||(this.keyValues.zv=this.zeus.version.startsWith("3")?"b":"a")}wpSection(){this.keyValues.wpSection=this.metaData.section||this.metaData.content_section}init(e){return this.itid_temp(),this.itid(),this.itidr(),this.j_tid(),this.j_cid(e),this.j_ucid(),this.sub(),this.WPATC(),this.wp_ref(),this.embed_domain(),this.wp_fusion(),this.ca(),this.audienceKeys(),this.ct(),this.hl(),this.wpnode(),this.page(),this.pageId(),this.wp_pub_date(),this.author(),this.spon_con(),this.wp_tag(),this.exclusions(),this.setEmailSpon(),this.wp_tab(),this.crd(),this.setPcr(),this.subtype(),this.siteABTestKv(),this.zv(),this.wpSection(),this.contextualTargetingKeys(),{keyValues:this.keyValues,categoryExclusions:this.categoryExclusions}}}(t,this.url,this.zeus),{keyValues:r,categoryExclusions:s}=i.init(e);this.keyvalues=r,this.zeus.config.categoryExclusions=s,e()}catch(e){this.zeus.error("set page kv",{name:"pageKv",err:e})}}genKvFromUrl(e,t,i,r){const s=n.default.urlCheck(e,t,i);s&&(this.keyvalues[r||t]=s)}setTargetingOnConnectedNodes(){try{this.slotKvs=a(this.zeus.config),this.zeus.on("NODE_CONFIG_UPDATED",(e=>{let{node:t}=e;return this._setTargeting(t)})),this.zeus.on("AFTER_SLOT_RENDER",(e=>{let{elements:t}=e;return null==t?void 0:t.forEach((e=>this._setTargeting(e)))}))}catch(e){this.zeus.error("set slot kv",{name:"slotKv",err:e})}}_setTargeting(e){try{var t,i;const n=(null===(t=this.zeus.config)||void 0===t||null===(i=t.general)||void 0===i?void 0:i.slotPrefix)||"slug_",r=new RegExp("^".concat(n),"gm"),s=e.id.replace(r,""),o=this._getSlotConfig(s),a=e.targeting||{},u=e.renderCount>0;o.keyvalues&&o.keyvalues.pos||(a.pos=s),e.json={targeting:{...a,...this.slotKvs.setCtr({zeus:this.zeus,targeting:a,isRefreshed:u}),...this.slotKvs.setSafety({targeting:a}),...this.slotKvs.setRefresh({isRefreshed:u}),...this.slotKvs.setKw(),...this.slotKvs.setRefreshCount({pos:s,renderCount:e.renderCount}),...this.slotKvs.setPwt({pos:s,isRefreshed:u})}}}catch(e){this.zeus.error("set slot kv",{name:"slotKv._setTargeting",err:e})}}_getSlotConfig(e){return this.zeus.config.inventory[e]||this.zeus.config.inventory[n.default.getNodeKey(e)]}}const d=e=>new u(e)},392:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AdvAdRefresher:()=>a,init:()=>u,name:()=>d});const n="INIT",r="PAUSED",s="RESUME",o="READY";class a{constructor(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="AdvAdRefresher",this.zeus=e,this.config=n,this.delay=this.zeus.config.delay||3e4,this.cap=this.zeus.config.cap||0,this.isPauseAdListenersAttached=!1,this.globalAdRefreshStop=!1,this.currentBreakpoint=null===(t=this.zeus)||void 0===t||null===(i=t.breakpoint)||void 0===i?void 0:i.breakpoint,this.setupGlobalAdRefresh(),this.forceRefresh(),this.zeus.on("SLOT_RENDER_ENDED",this.initSlotRefreshBehaviors.bind(this)),this.zeus.on("IMPRESSION_VIEWABLE",this.doRefresh.bind(this)),this.zeus.on("BREAKPOINT_UPDATED",this.setResetFlag.bind(this))}static init(e,t){return new a(e,t)}initSlotRefreshBehaviors(e){let{element:t,data:i}=e;if(!t.refreshBehavior){var s,o;const e=(null==t||null===(s=t.firstElementChild)||void 0===s?void 0:s.offsetWidth)||t.offsetWidth,n=(null==t||null===(o=t.firstElementChild)||void 0===o?void 0:o.offsetHeight)||t.offsetHeight;t.refreshBehavior={creativeSize:!i.size||i.size[0]<10?[e,n]:i.size,original:{sizes:JSON.parse(JSON.stringify(t.zeus.inventoryConfig.sizes))}}}t.refreshBehavior.currentStates=this.config.pauseAdOffFocus&&!document.hasFocus()||this.globalAdRefreshStop?r:n,this.initPauseAdOnHover({element:t}),this.initPauseAdOffFocus()}clearRefreshTimer(e){e.refreshBehavior.timerReference&&clearTimeout(e.refreshBehavior.timerReference)}doRefresh(e){let{element:t,timer:i}=e;this.shouldAdRefresh({element:t})&&(this.fixAdSize({element:t}),this.clearRefreshTimer(t),t.refreshBehavior.timerReference=setTimeout((()=>{this._doRefresh(t)}),i||this.delay))}_doRefresh(e){const{needToReset:t,currentStates:i,isAdHeightFixed:n,needRerender:s}=e.refreshBehavior||{};if(t)this.reset(e);else{if(i!==r)return n&&s?(e.refreshBehavior.needRerender=!1,void e.rerender()):void e.render();e.refreshBehavior.currentStates=o}}shouldAdRefresh(e){var t;let{element:i}=e;const n=this.config.fixAdHeight,r=i.refreshBehavior.creativeSize,{currentSizes:s,inventoryConfig:o}=i.zeus;if(!1===(null===(t=o.refresh)||void 0===t?void 0:t.status))return!1;const{fixAdHeight:a,fixAdHeightSize:u}=(null==o?void 0:o.refresh)||{};return!1===n||!1===a||s.some((e=>e.toString()==r.toString()))||(i.refreshBehavior.creativeSize=u||this.getFixAdHeightSize(i)),i.refresh}getFixAdHeightSize(e){const t=e.refreshBehavior.creativeSize,{currentSizes:i}=e.zeus;if(1===i.length)return i[0];let n,r=[];for(const e of i){if(e[0]<50)continue;const i=Math.abs(t[1]/e[1]-1);(i<.5&&void 0===n||i<n)&&(n=i,r=e)}return r}fixAdSize(e){var t,i;let{element:n}=e;if(!((null==n||null===(t=n.zeus)||void 0===t||null===(i=t.inventoryConfig)||void 0===i?void 0:i.refresh)||{}).fixAdHeight||n.refreshBehavior.isAdHeightFixed)return;const r=n.refreshBehavior.creativeSize,s=this.getSizesToSet(n,r,"sizes"),o=n.zeus.inventoryConfig;n.zeusAdConfig=Object.assign(o,{sizes:s}),n.style.minHeight="".concat(r[1],"px"),n.refreshBehavior.isAdHeightFixed=!0,n.refreshBehavior.needRerender=!0}getSizesToSet(e,t,i){const n=e.zeus.inventoryConfig[i];if(Array.isArray(n))return[t];const r=Object.assign({},e.zeus.inventoryConfig[i]);for(const e in r)r[e]=[t];return r}setResetFlag(){var e,t;const i=null===(e=this.zeus)||void 0===e||null===(t=e.breakpoint)||void 0===t?void 0:t.breakpoint;if(this.currentBreakpoint!==i){for(const e of this.zeus.adNodes){var n;null!=e&&null!==(n=e.refreshBehavior)&&void 0!==n&&n.isAdHeightFixed&&(e.refreshBehavior.needToReset=!0)}this.currentBreakpoint=i}}reset(e){const t=e.zeus.inventoryConfig;e.refreshBehavior.isAdHeightFixed=!1,e.refreshBehavior.needToReset=!1,e.zeusAdConfig=Object.assign(t,{...e.refreshBehavior.original}),e.style.height="",e.rerender()}initPauseAdOnHover(e){let{element:t}=e;const{refresh:i={}}=t.zeus.inventoryConfig,{pauseAdHover:n=!1}=i;n&&(t.addEventListener("mouseover",(()=>{document.hasFocus()&&this.pauseRefresh(t)})),t.addEventListener("mouseleave",(()=>{document.hasFocus()&&(this.globalAdRefreshStop||this.resumeRefresh(t))})))}pauseRefresh(e){const{currentStates:t}=e.refreshBehavior;t!==s&&t!==n||(e.refreshBehavior.currentStates=r)}resumeRefresh(e){const{needRerender:t,currentStates:i}=e.refreshBehavior;i!==o?e.refreshBehavior.currentStates=s:t?e.rerender():e.render()}getValidNodes(e){return e.filter((e=>"object"==typeof e.refreshBehavior))}initPauseAdOffFocus(){if(!this.config.pauseAdOffFocus||this.isPauseAdListenersAttached)return;const e=this.zeus.adNodes||[];window.addEventListener("focus",(()=>{this.globalAdRefreshStop||this.getValidNodes(e).forEach(this.resumeRefresh)})),window.addEventListener("blur",(()=>{this.getValidNodes(e).forEach(this.pauseRefresh)})),this.isPauseAdListenersAttached=!0}setupGlobalAdRefresh(){const e=this.zeus.adNodes||[];this.zeus.on("GLOBAL_AD_REFRESH_STOP",(()=>{this.globalAdRefreshStop=!0,this.getValidNodes(e).forEach(this.pauseRefresh)})),this.zeus.on("GLOBAL_AD_REFRESH_RESUME",(()=>{this.globalAdRefreshStop=!1,this.getValidNodes(e).forEach(this.resumeRefresh)}))}forceRefresh(){window.addEventListener("pageshow",(e=>{e.persisted&&this.zeus.adNodes.forEach((e=>{e.refreshBehavior&&this.doRefresh({element:e,timer:1e3})}))}))}}const u=(e,t)=>new a(e,t),d="advadrefresher"},270:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Catchpoint:()=>s,name:()=>a,onload:()=>o});var n=i(63);const{now:r}=n.default;class s{constructor(e){this.zeus=e,this.name="catchpoint",this.zeus.info("loading plugin",{name:this.name}),this.queue=[],this.info={indicator:{},tracepoint:{}},this.handleGlimpseLoaded=this.handleGlimpseLoaded.bind(this),this.attachEventHandlers()}static init(e,t){return new s(e,t)}attachEventHandlers(){const{zeus:e}=this,t={INIT:"zinit",SLOTS_WILL_RENDER:"zswr",SLOT_RENDER:"zsr",SLOT_REQUESTED:"zsrq",SLOT_RENDER_ENDED:"zsre"};for(const[i,n]of Object.entries(t))e.once(i,(()=>{try{this.addInfo("tracepoint","zver",e.version),this.addInfo("indicator",n,r())}catch(t){e.error("error sending Zeus ".concat(i," event to Catchpoint"),{name:this.name,err:t})}}));window.addEventListener("GlimpseLoaded",this.handleGlimpseLoaded)}addInfo(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[n,r,s]=t;this.info[n][r]=s,this.queue.push([...t]),this.maybeProcessQueue()}maybeProcessQueue(){if(window.RProfiler)for(;this.queue.length;){const e=this.queue[0];window.RProfiler.addInfo(...e),this.queue.shift()}}handleGlimpseLoaded(){this.maybeProcessQueue()}}const o=s.init,a="catchpoint"},934:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DAT:()=>r,init:()=>s,name:()=>o});var n=i(63);class r{constructor(e){this.zeus=e,this.endpoint="https://www.washingtonpost.com/red-static/services/dat",this.init()}async getRecord(){const[e,t,i,r]=n.default.getCookie("wp_geo").split("|"),s="".concat(this.endpoint,"/?zip=").concat(r,"&countryCode=").concat(e,"&regionCode=").concat(t,"&dma=").concat(i);return fetch(s).then((e=>e.json()))}init(){this.getRecord().then((e=>(null==e?void 0:e.keyvalues)&&this.zeus.emit("ADD_KEYVALUES",e.keyvalues))).catch((e=>this.zeus.warn("DAT Service error",{err:e,name:"dat"})))}}const s=e=>new r(e),o="dat"},484:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Dfpnode:()=>r,init:()=>s,name:()=>o});var n=i(63);class r{constructor(e,t){var i,n;this.zeus=e,this.name="dfpnode",this.config=t,this.isMobile=null===(i=this.zeus.config)||void 0===i||null===(n=i.wpAdParams)||void 0===n?void 0:n.isMobile,this.setDfpNode()}setDfpNode(){try{const e=this.getDpfId(),t=this.isMobile?"mob.wp.":"wpni.",i=this.getCommercialNode();this.zeus.config.dfpNode="".concat(e).concat(t).concat(i)}catch(e){this.zeus.error("setup failed",{name:this.name,err:e})}}getDpfId(){const e=this.config.dfpId;if(!e)throw new Error("Misconfigured dfpId");return"/".concat(e,"/")}getCommercialNode(){var e;const t=this.getMetaData(),i=this.nodeGenerator(t);return null!==(e=this.zeus.config)&&void 0!==e&&e.wpAdParams||(this.zeus.config.wpAdParams={}),this.zeus.config.wpAdParams.commercialNode=i,i}getMetaData(){return window.wp_meta_data||window.wpAdFusion||{}}urlCheckAndParams(e){const t=window.location.href,i=n.default.urlCheck(t,e);return Boolean(i||new RegExp(e).exec(t))}_getString(e){return"string"==typeof e?e:null!=e&&e.length&&"string"==typeof e[0]?e[0]:""}_getContentType(e){const t=this._getString(e);return t&&{article:"article",audiostory:"audio",blogfront:"blog",blogstory:"blog",blog:"blog",front:"front",graphicstory:"graphic",mediagallery:"photo",gallery:"photo",videostory:"video"}[t.toLowerCase()]||""}nodeGenerator(e){const t=n.default.urlCheck(window.location.href,"dcnode","variable");if(t)return t;const i=this.getDefaultCommercialNode(e),r=this._getContentType(e.contentType),s=this._getString(e.contentName);return e.isHomepage?this.isMobile?"homepage":i:!r&&s&&s.length?"".concat(i,"/").concat(s):"bytheway"===i?this.handleSpecialNode(i):r&&"article"!==r?this.handleContentType(r,s,i):i}getDefaultCommercialNode(e){return(window.commercialNode||e.commercialNode||"politics").replace(/\s/g,"").replace(/^\/*|\/*$/g,"").replace(/[^0-9a-zA-Z_.\-/]/g,"")}handleContentType(e,t,i){return"blog"===e&&t&&t.length?"".concat(i,"/").concat(e,"/").concat(t):"front"===e&&t&&t.length?"".concat(i,"/").concat(t,"/").concat(e):"".concat(i,"/").concat(e)}handleSpecialNode(e){return this.urlCheckAndParams("/tips/")?"".concat(e,"/tips"):/\/travel\/[0-9]{4}\/[0-9]{2}\/[0-9]{2}\//i.test(window.location.href)?"".concat(e,"/news"):/\/travel\/(?!tips)(?!news)[^\d]/i.test(window.location.href)?"".concat(e,"/city-guides"):void 0}}const s=(e,t)=>new r(e,t),o="dfpnode"},768:(e,t,i)=>{"use strict";i.r(t),i.d(t,{init:()=>n,name:()=>r});const n=e=>{e.on("PERSONALIZED_ADS_PERMISSION",(e=>{return t=e?0:1,window.googletag=window.googletag||{cmd:[]},void window.googletag.cmd.push((()=>{window.googletag.pubads().setRequestNonPersonalizedAds(t)}));var t}))},r="gdpr"},801:(e,t,i)=>{"use strict";i.r(t),i.d(t,{InlineAds:()=>n,init:()=>r,name:()=>s});class n{constructor(e,t){var i,n;this.name="InlineAds",this.zeus=e,this.config=t,this.currentBuffer=t.bufferSpace||0,this.isMobile=null===(i=this.zeus.config)||void 0===i||null===(n=i.wpAdParams)||void 0===n?void 0:n.isMobile,"loading"!==document.readyState?this.init():document.addEventListener("DOMContentLoaded",(()=>this.init()),!1)}init(){try{this.isMobile&&this.insertFixedBottomAds();const e=document.getElementById("article-body");if(!e)return;const t=e.querySelector("article");if(!t)return;const i=t.children;if(null==i||!i.length)return;const n=Array.from(i).filter(this.validateParagraph.bind(this)),r=this.getTailElements(n);this.insertAds(n,r)}catch(e){this.zeus.error("init failed",{name:this.name,err:e})}}validateParagraph(e){if(!e)return!1;const t=e.className.trim().split(" "),i=this.config.spacingTags,n=this.config.skipClassList;return!i.includes(e.tagName)&&!n.some((e=>t.includes(e)))}isInvalidInsertPoint(e){const t=e.nextElementSibling;return!this.validateParagraph(t)}getTailElements(e){const t=[];let i=0;if(null!=e&&e.length){for(let n=e.length-1;n>=0;n--){const r=e[n];if(i+=r.textContent.length,i>=400)break;t.push(r)}return t}}insertAds(e,t){const{defaultPos:i,adSpacing:n}=this.getAdConfig(),{minParaCount:r,totalAdCount:s,minCharCount:o,firstAdOnChar:a}=n.default;let u=0,d=0,l=0;const c=l?o:a;for(const n in e){var h;const o=e[n],a=null==o||null===(h=o.textContent)||void 0===h?void 0:h.length;if(!a)continue;if(l===s)break;if(d+=a,u++,u<r||d<c||this.isInvalidInsertPoint(o))continue;const p=l?"".concat(i,"_").concat(l+1):i,f=this.generateAd(p);if(t.includes(o)){t[0].insertAdjacentElement("afterend",f);break}o.insertAdjacentElement("afterend",f),l++,u=0,d=0}}getAdConfig(){return this.isMobile?this.config.mobile:this.config.desktop}insertFixedBottomAds(){const e=document.getElementsByClassName("krux-settings");if(window.wpAdFusion||e.length>0)return;const t=this.generateAd("fixedBottom");t.style.cssText="position: fixed; bottom:0; left:0; width:100%; background-color:#eee; text-align:center; z-index:5; padding-top:1px;",document.body.appendChild(t)}generateAd(e,t){try{var i,n,r,s;const o=null===(i=this.zeus.config)||void 0===i||null===(n=i.general)||void 0===n?void 0:n.slotPrefix,a=null===(r=this.zeus.config)||void 0===r||null===(s=r.general)||void 0===s?void 0:s.tagName,u=Object.assign({tagName:a,prefix:o},this.config.tagConfig,t),d=document.createElement(u.tagName);d.id=u.prefix+e,u.className&&(d.className=u.className),u.cssText&&(d.style.cssText+=u.cssText);const l=document.createElement("div");return l.className="grey-bg",l.style.cssText+="width: 100%; margin: 32px auto; padding: 24px 0px; background: #f7f7f7; min-height: calc(2 * 24px + 250px);",l.appendChild(d),l}catch(e){this.zeus.error("generate ad failed",{name:this.name,err:e})}}}const r=(e,t)=>{var i,r;if(null===(i=window)||void 0===i||null===(r=i.wp_meta_data)||void 0===r||!r.disableInlineAds)return new n(e,t)},s="inlineads"},752:(e,t,i)=>{"use strict";i.r(t),i.d(t,{KruxWrapper:()=>s,init:()=>o,name:()=>a});var n=i(63);const{loadScripts:r}=n.default;class s{constructor(e,t){this.zeus=e,this.kruxId=null==t?void 0:t.kruxId,this.kruxId&&(this.namespace=t.namespace||"",this.kPrefix=this.namespace?"kx".concat(this.namespace,"_"):"kx",r(["//cdn.krxd.net/controltag?confid=".concat(this.kruxId)]),this.setKruxValues(),this.zeus.on("CCPA_UPDATED",(e=>this.setUserConsent(e))))}getValues(e){try{return window.localStorage.getItem("".concat(this.kPrefix).concat(e))||""}catch(e){return this.zeus.info("[Zeus Krux plugin] - can not get value from storage",null==e?void 0:e.message),""}}setKruxValues(){window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),Krux.user=this.getValues("user");const e=this.getValues("segs");Krux.segments=e?e.split(","):[],this.zeus.emit("ADD_KEYVALUES",{ksg:Krux.segments,kuid:Krux.user})}fetchRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((i=>{const n=this.namespace?["ns:".concat(this.namespace),e,t]:[e,t];window.Krux(...n,((e,t)=>{if(e){const[t]=Object.values(e);throw new Error(t||"Unknown krux api error")}i(t)}))}))}async setUserConsent(e){let{data:t}=e;try{if(!window.Krux||"Y"!==(null==t?void 0:t.uspString[2]))return;await this.fetchRequest("consent:set",{dc:!1,al:!1,tg:!1,cd:!1,sh:!1,re:!1})}catch(e){this.zeus.warn("api error",{name:"kruxWrapper",err:e})}}}const o=(e,t)=>new s(e,t),a="kruxwrapper"},953:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Logger:()=>s,init:()=>a,name:()=>o});var n=i(63);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e,t){var i,n,s=this;r(this,"LOG_LEVELS",{TIMER:0,DEBUG:0,INFO:1,WARN:2,ERROR:3}),r(this,"LOG_PREFIX","ZEUS_LOGGER"),this.zeus=e,this.config=t,this.logLevel=this.getLogLevel(),this.events=this.getEvents(),this.logger=console,null===(i=this.events)||void 0===i||null===(n=i.forEach)||void 0===n||n.call(i,(t=>e.on(t,(e=>this.handleEvent(t,e||{}))))),Object.keys(this.LOG_LEVELS).map((t=>e.on(t,(function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return s.log(t,...i)}))))}static init(e,t){return new s(e,t)}getLogger(e){if(!this.logLevel||this.logLevel<=this.LOG_LEVELS[e])return this.logger[null==e?void 0:e.toLowerCase()]||this.logger.info}log(e){try{const r=this.getLogger(e);for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];null==r||r("--".concat(this.LOG_PREFIX,"--"),...i)}catch(e){}}handleEvent(e,t){var i;let{element:r,elements:s,data:o}=t;const a=n.default.now()-(null===(i=this.zeus)||void 0===i?void 0:i.executionStart),u=s||[r];this.log("INFO",e,{nodes:u,data:o,dt:a})}getLogLevel(){var e;const t=n.default.getCookie("".concat(this.LOG_PREFIX,"_LEVEL"));return t&&!isNaN(Number(t))?parseInt(t,10):(null===(e=this.config)||void 0===e?void 0:e.logLevel)||this.LOG_LEVELS.WARN}getEvents(){const e=n.default.getCookie("".concat(this.LOG_PREFIX,"_EVENTS"));var t;return e?e.split(","):(null===(t=this.config)||void 0===t?void 0:t.events)||[]}}const o="logger",a=s.init},293:(e,t,i)=>{"use strict";i.r(t),i.d(t,{init:()=>o,name:()=>a});var n=i(63);const{urlCheck:r,loadScripts:s}=n.default,o=()=>{const e=window.location.href,t=r(e,"tmt_off","variable"),i=r(e,"tmt_dev","variable");t||s([i?"//scripts.webcontentassessor.com/scripts/35e657fa1b7e2bb7b2e1c0ca7c403ff587744a23f62fb83b91e76c6fb787fcdb":"//scripts.webcontentassessor.com/scripts/9d57e7ee386d4862ec551bf24731dadcab8a37c6f6580c8428470f6489c29264"])},a="malwareblocker"},539:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Metrics:()=>X,name:()=>ee,onload:()=>$});var n,r,s,o=i(298),a=i(63),u=(n=function(e){return crypto.getRandomValues(e)},r=-1,s=0,function(){var e=Math.max(Date.now(),r);s=e===r?s+1:0,r=e;var t=Math.trunc(e/1e3),i=e%1e3,o=new Uint32Array(2);n(o),o[0]=2<<30|o[0]>>>2;var a=t.toString(16).padStart(9,"0")+i.toString(16).padStart(3,"0")+"7"+s.toString(16).padStart(3,"0")+o[0].toString(16).padStart(8,"0")+o[1].toString(16).padStart(8,"0");return a.slice(0,8)+"-"+a.slice(8,12)+"-"+a.slice(12,16)+"-"+a.slice(16,20)+"-"+a.slice(20)}),d=i(129),l=i.n(d);let c;try{new EventTarget,c=!0}catch(e){c=!1}var h=c?EventTarget:class{constructor(){this.e={}}addEventListener(e,t,i=!1){this.t(e).push(t)}removeEventListener(e,t,i=!1){const n=this.t(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}dispatchEvent(e){return e.target=this,Object.freeze(e),this.t(e.type).forEach((t=>t(e))),!0}t(e){return this.e[e]=this.e[e]||[]}},p=c?Event:class{constructor(e){this.type=e}};class f extends p{constructor(e,t){super(e),this.newState=t.newState,this.oldState=t.oldState,this.originalEvent=t.originalEvent}}const g="active",m="passive",v="hidden",b="frozen",y="terminated",w="object"==typeof safari&&safari.pushNotification,_=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],x=e=>(e.preventDefault(),e.returnValue="Are you sure?"),z=[[g,m,v,y],[g,m,v,b],[v,m,g],[b,v],[b,g],[b,m]].map((e=>e.reduce(((e,t,i)=>(e[t]=i,e)),{}))),S=()=>document.visibilityState===v?v:document.hasFocus()?g:m;var E=new class extends h{constructor(){super();const e=S();this.s=e,this.i=[],this.a=this.a.bind(this),_.forEach((e=>addEventListener(e,this.a,!0))),w&&addEventListener("beforeunload",(e=>{this.n=setTimeout((()=>{e.defaultPrevented||e.returnValue.length>0||this.r(e,v)}),0)}))}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(e){!this.i.indexOf(e)>-1&&(0===this.i.length&&addEventListener("beforeunload",x),this.i.push(e))}removeUnsavedChanges(e){const t=this.i.indexOf(e);t>-1&&(this.i.splice(t,1),0===this.i.length&&removeEventListener("beforeunload",x))}r(e,t){if(t!==this.s){const i=((e,t)=>{for(let i,n=0;i=z[n];++n){const n=i[e],r=i[t];if(n>=0&&r>=0&&r>n)return Object.keys(i).slice(n,r+1)}return[]})(this.s,t);for(let t=0;t<i.length-1;++t){const n=i[t],r=i[t+1];this.s=r,this.dispatchEvent(new f("statechange",{oldState:n,newState:r,originalEvent:e}))}}}a(e){switch(w&&clearTimeout(this.n),e.type){case"pageshow":case"resume":this.r(e,S());break;case"focus":this.r(e,g);break;case"blur":this.s===g&&this.r(e,S());break;case"pagehide":case"unload":this.r(e,e.persisted?b:y);break;case"visibilitychange":this.s!==b&&this.s!==y&&this.r(e,S());break;case"freeze":this.r(e,b)}}};const I=E;function A(e,t,i){var n=i.xhrAsync,r=void 0===n||n,s=i.onSuccess,o=void 0===s?function(){}:s,a=i.onError,u=void 0===a?function(){}:a,d=i.onTimeout,l=void 0===d?function(){}:d,c=i.onAbort,h=void 0===c?function(){}:c,p=i.timeout,f=new XMLHttpRequest;f.open("POST",e,r),f.withCredentials=!1,f.timeout=p,f.setRequestHeader("Content-Type","text/plain"),f.onload=function(){return(e=f.status)>=200&&e<300?o():u();var e},f.onerror=u,f.ontimeout=l,f.onabort=h,f.send(t)}var C={Pageview:"pv",RenderCycleStart:"rcs",AdRequest:"ar",Impression:"imp",UnfilledImpression:"uimp",ViewableImpression:"vimp",Bid:"bid",BidError:"biderr",IrisInit:"ii",IrisBidStart:"ibs",IrisBid:"ib",IrisBidError:"ibe",IrisAdRequest:"iar",IrisAdLoad:"ial",IrisAdStart:"ias",LogMessage:"log"},k=function(e){return"string"==typeof e},O=function(e){return k(e)&&e.length>0},P=function(e){return Number.isInteger(e)},T=function(e){return P(e)&&e>=0},R=function(e){return P(e)&&e>0},N=function(e){return Number.isFinite(e)&&e>=0},D=Object.fromEntries(Object.entries(C).map((function(e){return e.reverse()}))),j="beacon",B="xhr";function L(e,t){if(!e)throw new Error(t)}function U(){return Math.floor(performance.now())}var V={debounceTime:3e4,maxDebounceDuration:3e4,maxDebounceEvents:100,throttleTime:1e3,maxEventsPerRequest:100,maxQueueLength:1e3,maxBackoffTime:64e3,sendTimeout:3e4,transports:[j,B],apiHost:"https://nowhere.invalid./",customerId:"none",zeusVersion:"none"};function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function F(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?F(Object(i),!0).forEach((function(t){Q(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function H(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}function Q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(o,e);var t,i,n,r,s=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Y(n);if(r){var i=Y(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return H(this,e)});function o(){var e,t,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W(this,o),Q(J(i=s.call(this)),"buildRequestBody",(function(e,t){var i;null!==(i=t)&&void 0!==i||(t=U());var n=JSON.stringify({clientSentTime:t,events:e});return JSON.stringify({j:l().pack(n)})})),Q(J(i),"info",(function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i).log.apply(e,["info"].concat(n))})),Q(J(i),"warn",(function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i).log.apply(e,["warn"].concat(n))})),Q(J(i),"error",(function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i).log.apply(e,["error"].concat(n))})),Q(J(i),"debug",(function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i).log.apply(e,["debug"].concat(n))})),Q(J(i),"timer",(function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i).log.apply(e,["timer"].concat(n))}));var r=null===(e=n=K(K({},V),n))||void 0===e?void 0:e.customerId,a=null===(t=n)||void 0===t?void 0:t.zeusVersion,d=n.isMobile?"m":"d";return i.name="metricsagent",i.pageInfo={clientId:u(),customerId:r,siteId:window.location.hostname,zeusVersion:a,userDevice:d,pageUrl:window.location.href,browser:"",browserVersion:"",os:"",osVersion:""},i.gdprConsentInfo={},i.uspConsentInfo={},i.pageviewEvent={},i.slotEvent={},i.sspEvent={},i.irisInitEvent={},i.apiHost=n.apiHost.replace(/\/$/,""),i.url="".concat(i.apiHost,"/api/v1/collect"),i.maxQueueLength=n.maxQueueLength,i.debounceTime=n.debounceTime,i.maxDebounceDuration=n.maxDebounceDuration,i.throttleTime=n.throttleTime,i.maxEventsPerRequest=n.maxEventsPerRequest,i.maxDebounceEvents=n.maxDebounceEvents,i.maxBackoffTime=n.maxBackoffTime,i.sendTimeout=n.sendTimeout,i.transports=n.transports,i.queue=[],i.backoffTime=0,i.backoffJitter=0,i.lastRequestStartAt=-1/0,i.lastRequestEndAt=-1/0,i.lastRequestError=!1,i.sendLock=!1,i.sendTimer=null,i.ids={},i.hasAttachedEventHandlers=!1,i.handlePageLifecycleStateChange=i.handlePageLifecycleStateChange.bind(J(i)),i.handleUnload=i.handleUnload.bind(J(i)),i.handleUserMaybeLeaving=i.handleUserMaybeLeaving.bind(J(i)),i.handlePageshow=i.handlePageshow.bind(J(i)),i}return t=o,i=[{key:"attachEventHandlers",value:function(){this.hasAttachedEventHandlers||(I.addEventListener("statechange",this.handleUserMaybeLeaving),window.addEventListener("unload",this.handleUnload),window.addEventListener("blur",this.handleUserMaybeLeaving),window.addEventListener("pagehide",this.handleUserMaybeLeaving),window.addEventListener("pageshow",this.handlePageshow),this.hasAttachedEventHandlers=!0)}},{key:"detachEventHandlers",value:function(){this.hasAttachedEventHandlers&&(I.removeEventListener("statechange",this.handleUserMaybeLeaving),window.removeEventListener("unload",this.handleUnload),window.removeEventListener("blur",this.handleUserMaybeLeaving),window.removeEventListener("pagehide",this.handleUserMaybeLeaving),window.removeEventListener("pageshow",this.handlePageshow),this.hasAttachedEventHandlers=!1)}},{key:"setGdprConsent",value:function(e){this.gdprConsentInfo={gdprConsent:e?"y":"n"}}},{key:"setUspConsent",value:function(e){this.uspConsentInfo={uspConsent:e?"y":"n"}}},{key:"generateId",value:function(e){var t;return L("string"==typeof e,"scope must be a string"),this.ids[e]=null!==(t=this.ids[e])&&void 0!==t?t:0,this.ids[e]+=1,this.ids[e]}},{key:"handlePageInit",value:function(){try{this.pageview()}catch(e){this.error("error logging pageview",{err:e})}}},{key:"handlePageshow",value:function(e){try{e.persisted&&this.pageview()}catch(e){this.error("error logging pageshow",{err:e})}}},{key:"handleUnload",value:function(){try{this.send({xhrAsync:!1})}catch(e){this.error("error in handleUnload",{err:e})}}},{key:"handleUserMaybeLeaving",value:function(){try{this.send()}catch(e){this.error("error in handleUserMaybeLeaving",{err:e})}}},{key:"handlePageLifecycleStateChange",value:function(e){try{"hidden"===e.newState&&this.handleUserMaybeLeaving()}catch(e){this.error("error in handlePageLifecycleStateChange",{err:e})}}},{key:"handleSlotsWillRender",value:function(e){var t=this;try{var i=this.generateId(C.RenderCycleStart);e.forEach((function(e){return t.renderCycleStart(e.id,i)}))}catch(e){this.error("error in handleSlotsWillRender",{err:e})}}},{key:"handleSlotRequested",value:function(e){try{var t,i,n,r=e.element,s=e.data,o=null==s||null===(t=s.slot)||void 0===t||null===(i=t.getContentUrl)||void 0===i||null===(n=i.call(t))||void 0===n?void 0:n.endsWith("&trunc=1");this.adRequest(r.id,o)}catch(e){this.error("error in handleSlotRequested",{err:e})}}},{key:"handleSlotRenderEnded",value:function(e){try{var t,i=e.element,n=e.data,r=e.gamId,s=null==n||null===(t=n.slot)||void 0===t?void 0:t.getEscapedQemQueryId();n.isEmpty?this.unfilledImpression(i.id,s):this.impression(i.id,null==n?void 0:n.lineItemId,r,s)}catch(e){this.error("error in handleSlotRenderEnded",{err:e})}}},{key:"handleImpressionViewable",value:function(e){var t=e.element,i=e.data;try{var n,r=null==i||null===(n=i.slot)||void 0===n?void 0:n.getEscapedQemQueryId();this.viewableImpression(t.id,r)}catch(e){this.error("error in handleImpressionViewable",{err:e})}}},{key:"irisInit",value:function(e,t){var i;null!==(i=t)&&void 0!==i||(t=U()),L(k(e),"iris version must be string"),L(T(t),"timestamp must be non-negative int"),this.irisInitEvent=K(K(K({},this.pageInfo),this.pageviewEvent),{},{irisVersion:e}),this.pushEvent(C.IrisInit,K(K({},this.irisInitEvent),{},{eventTime:t}))}},{key:"irisBidStart",value:function(e,t,i,n){var r,s,o;null!==(r=t)&&void 0!==r||(t=this.generateId(C.IrisBidStart)),null!==(s=i)&&void 0!==s||(i=this.generateId("".concat(C.IrisBidStart,":").concat(e))),null!==(o=n)&&void 0!==o||(n=U()),L(O(e),"nodeId must be non-empty string"),L(R(t),"renderCycleId must be positive int"),L(R(i),"renderId must be positive int"),L(T(n),"timestamp must be non-negative int"),this.slotEvent[e]=K(K(K(K({},this.irisInitEvent),this.gdprConsentInfo),this.uspConsentInfo),{},{nodeId:e,renderCycleId:t,renderId:i,renderCycleStartTime:n}),this.pushEvent(C.IrisBidStart,K(K({},this.slotEvent[e]),{},{eventTime:n}))}},{key:"irisBid",value:function(e,t,i){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=r.auctionId,o=r.impId,a=r.timestamp;null!==(n=a)&&void 0!==n||(a=U()),L(O(e),"nodeId must be non-empty string"),L(O(t),"sspName must be non-empty string"),L(T(a),"timestamp must be non-negative int"),L(N(i),"price must be positive number");var u="".concat(e,",").concat(t),d=s?{auctionId:s}:{},l=o?{impId:o}:{};this.sspEvent[u]=K(K(K({},this.slotEvent[e]),{},{sspName:t,bidPrice:i,bidCompletedTime:a},d),l),this.pushEvent(C.IrisBid,K(K({},this.sspEvent[u]),{},{eventTime:a}))}},{key:"irisBidError",value:function(e,t,i){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=r.auctionId,o=r.impId,a=r.timestamp;null!==(n=a)&&void 0!==n||(a=U()),L(O(e),"nodeId must be non-empty string"),L(O(t),"sspName must be non-empty string"),L(T(a),"timestamp must be non-negative int"),L(O(i),"error must be non-empty string");var u="".concat(e,",").concat(t),d=s?{auctionId:s}:{},l=o?{impId:o}:{};this.sspEvent[u]=K(K(K({},this.slotEvent[e]),{},{sspName:t,bidError:i,bidCompletedTime:a},d),l),this.pushEvent(C.IrisBidError,K(K({},this.sspEvent[u]),{},{eventTime:a}))}},{key:"irisAdRequest",value:function(e,t){var i;null!==(i=t)&&void 0!==i||(t=U()),L(O(e),"nodeId must be non-empty string"),L(T(t),"timestamp must be non-negative int"),this.pushEvent(C.IrisAdRequest,K(K({},this.slotEvent[e]),{},{eventTime:t}))}},{key:"irisAdLoad",value:function(e,t,i,n){var r;null!==(r=n)&&void 0!==r||(n=U()),t="".concat(0===t?t:t||""),i="".concat(i||""),L(O(e),"nodeId must be non-empty string"),L(T(n),"timestamp must be non-negative int"),L(k(t),"lineItemId must be valid"),L(k(i),"gamId");var s=t?{lineItemId:t}:{},o=t&&i?{gamId:i}:{};this.slotEvent[e]=K(K(K({},this.slotEvent[e]),s),o),this.pushEvent(C.IrisAdLoad,K(K({},this.slotEvent[e]),{},{eventTime:n}))}},{key:"irisAdStart",value:function(e,t){var i;null!==(i=t)&&void 0!==i||(t=U()),L(O(e),"nodeId must be non-empty string"),L(T(t),"timestamp must be non-negative int"),this.pushEvent(C.IrisAdStart,K(K({},this.slotEvent[e]),{},{eventTime:t}))}},{key:"pageview",value:function(e,t){var i,n;null!==(i=e)&&void 0!==i||(e=this.generateId(C.Pageview)),null!==(n=t)&&void 0!==n||(t=U()),L(R(e),"id must be positive int"),L(T(t),"timestamp must be non-negative int"),this.pageviewEvent=K(K({},this.pageInfo),{},{pageviewId:e,pageviewTime:t}),this.pushEvent(C.Pageview,K(K({},this.pageviewEvent),{},{eventTime:t}))}},{key:"renderCycleStart",value:function(e,t,i,n){var r,s;null!==(r=i)&&void 0!==r||(i=this.generateId("".concat(C.RenderCycleStart,":").concat(e))),null!==(s=n)&&void 0!==s||(n=U()),L(O(e),"nodeId must be non-empty string"),L(R(t),"renderCycleId must be positive int"),L(R(i),"renderId must be positive int"),L(T(n),"timestamp must be non-negative int"),this.slotEvent[e]=K(K(K(K({},this.pageviewEvent),this.gdprConsentInfo),this.uspConsentInfo),{},{nodeId:e,renderCycleId:t,renderId:i,renderCycleStartTime:n}),this.pushEvent(C.RenderCycleStart,K(K({},this.slotEvent[e]),{},{eventTime:n}))}},{key:"logMessage",value:function(e,t,i,n){var r;null!==(r=n)&&void 0!==r||(n=U()),L(O(e),"level must be non-empty string"),L(O(t),"message must be non-empty string"),L(void 0===i||O(i),"detail must be non-empty string"),L(T(n),"timestamp must be non-negative int");var s=void 0===i?{}:{logDetail:i};this.pushEvent(C.LogMessage,K(K(K(K({},this.pageInfo),this.pageviewEvent),{},{logLevel:e,logMessage:t},s),{},{eventTime:n}))}},{key:"logBid",value:function(e,t,i){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=r.auctionId,o=r.impId,a=r.timestamp;null!==(n=a)&&void 0!==n||(a=U());try{L(O(e),"nodeId must be non-empty string"),L(O(t),"sspName must be non-empty string"),L(T(a),"timestamp must be non-negative int"),L(N(i),"price must be positive number");var u="".concat(e,",").concat(t),d=s?{auctionId:s}:{},l=o?{impId:o}:{};this.sspEvent[u]=K(K(K({},this.slotEvent[e]),{},{sspName:t,bidPrice:i,bidCompletedTime:a},d),l),this.pushEvent(C.Bid,K(K({},this.sspEvent[u]),{},{eventTime:a}))}catch(e){this.error("error in logBid",{err:e})}}},{key:"logBidError",value:function(e,t,i){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=r.auctionId,o=r.impId,a=r.timestamp;null!==(n=a)&&void 0!==n||(a=U());try{L(O(e),"nodeId must be non-empty string"),L(O(t),"sspName must be non-empty string"),L(T(a),"timestamp must be non-negative int"),L(O(i),"error must be non-empty string");var u="".concat(e,",").concat(t),d=s?{auctionId:s}:{},l=o?{impId:o}:{};this.sspEvent[u]=K(K(K({},this.slotEvent[e]),{},{sspName:t,bidError:i,bidCompletedTime:a},d),l),this.pushEvent(C.BidError,K(K({},this.sspEvent[u]),{},{eventTime:a}))}catch(e){this.error("error in logBidError",{err:e})}}},{key:"impression",value:function(e,t,i,n,r){var s;null!==(s=r)&&void 0!==s||(r=U()),t="".concat(0===t?t:t||""),i="".concat(i||""),L(O(e),"nodeId must be non-empty string"),L(T(r),"timestamp must be non-negative int"),L(k(t),"lineItemId must be valid"),L(k(i),"gamId");var o=t?{lineItemId:t}:{},a=t&&i?{gamId:i}:{};this.slotEvent[e]=K(K(K(K({},this.slotEvent[e]),o),a),{},{googleQueryId:n,impressionTime:r}),this.pushEvent(C.Impression,K(K({},this.slotEvent[e]),{},{eventTime:r}))}},{key:"adRequest",value:function(e,t,i){var n,r;null!==(n=i)&&void 0!==n||(i=U()),L(O(e),"nodeId must be non-empty string"),L(void 0===t||"boolean"==typeof t,"googleUrlTruncated must be boolean"),L(T(i),"timestamp must be non-negative int"),this.slotEvent[e]=K({},this.slotEvent[e]),void 0!==t&&(this.slotEvent[e].googleUrlTruncated=!0===(r=t)?"y":!1===r?"n":void 0),this.pushEvent(C.AdRequest,K(K({},this.slotEvent[e]),{},{eventTime:i}))}},{key:"unfilledImpression",value:function(e,t,i){var n;null!==(n=i)&&void 0!==n||(i=U()),L(O(e),"nodeId must be non-empty string"),L(T(i),"timestamp must be non-negative int"),this.slotEvent[e]=K(K({},this.slotEvent[e]),{},{googleQueryId:t,unfilledImpressionTime:i}),this.pushEvent(C.UnfilledImpression,K(K({},this.slotEvent[e]),{},{eventTime:i}))}},{key:"viewableImpression",value:function(e,t,i){var n;null!==(n=i)&&void 0!==n||(i=U()),L(O(e),"nodeId must be non-empty string"),L(T(i),"timestamp must be non-negative int"),this.slotEvent[e]=K(K({},this.slotEvent[e]),{},{googleQueryId:t,viewableImpressionTime:i}),this.pushEvent(C.ViewableImpression,K(K({},this.slotEvent[e]),{},{eventTime:i}))}},{key:"pushEvent",value:function(e,t){var i=this.queue.length<this.maxQueueLength,n=D[e]||e,r=null==t?void 0:t.nodeId;if(i){var s=this.createEvent(e,t);this.queue.push(s),this.info("push ".concat(n," ").concat(r))}else this.error("push fail! queue full, dropping! ".concat(n," ").concat(r));return this.scheduleSend(),i}},{key:"createEvent",value:function(e,t){var i,n;L((n=e,Object.values(C).includes(n)),"name must be a valid event name"),L(t instanceof Object,"payload must be an object");var r=this.generateId("event"),s=null!==(i=t.eventTime)&&void 0!==i?i:U();return K(K({},t),{},{eventName:e,eventId:r,eventTime:s,dh:""})}},{key:"scheduleSend",value:function(){var e=this;if(!this.sendLock){var t=this.throttleTime,i=this.backoffTime,n=this.backoffJitter,r=this.lastRequestEndAt,s=this.lastRequestError,o=function(e,t,i){if(0===t.length)return 1/0;var n=e.maxDebounceDuration,r=e.maxDebounceEvents,s=e.debounceTime-(i-t[t.length-1].eventTime),o=n-(i-t[0].eventTime),a=t.length>=r?0:1/0,u=e.throttleTime,d=e.lastRequestAt,l=(void 0===u?0:u)-(i-(void 0===d?-1/0:d));return Math.max(0,l,Math.min(s,o,a))}({debounceTime:this.debounceTime,maxDebounceDuration:this.maxDebounceDuration,maxDebounceEvents:this.maxDebounceEvents,throttleTime:s?i+n:t,lastRequestAt:r},this.queue,U());this.sendTimer&&(clearTimeout(this.sendTimer),this.sendTimer=null),0===o?this.send():Number.isFinite(o)&&(this.sendTimer=setTimeout((function(){return e.send()}),o))}}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.sendLock&&0!==this.queue.length&&0!==this.maxEventsPerRequest){var i=t.xhrAsync,n=void 0===i||i,r=this.queue.slice(0,this.maxEventsPerRequest);this.sendLock=!0;var s=function(){return e.handleSendComplete({err:!1,events:r})},o=function(){return e.handleSendComplete({err:!0,events:r})},a=o,u=o,d=this.url,l=this.buildRequestBody(r);if(this.lastRequestStartAt=U(),this.transports.includes(j)&&this.sendBeacon(d,l))setTimeout(s,0);else if(this.transports.includes(B)){var c={timeout:this.sendTimeout,xhrAsync:n,onSuccess:s,onError:o,onTimeout:a,onAbort:u};A(d,l,c)}else this.sendLock=!1}}},{key:"sendBeacon",value:function(e,t){try{var i;return null===(i=navigator)||void 0===i?void 0:i.sendBeacon(e,t)}catch(e){}return!1}},{key:"handleSendComplete",value:function(e){var t=e.err,i=e.events;this.lastRequestEndAt=U(),this.lastRequestError=t,t?(this.increaseBackoff(),this.warn("failed to send ".concat(i.length," events, retry in ").concat(this.backoffTime,"ms"))):(this.resetBackoff(),this.queue=this.queue.slice(i.length),this.info("sent ".concat(i.length," events"))),this.sendLock=!1,this.scheduleSend()}},{key:"increaseBackoff",value:function(){var e=this.maxBackoffTime,t=this.backoffTime;this.backoffTime=Math.max(1e3,Math.min(e,2*t)),this.backoffJitter=1e3*Math.random()}},{key:"resetBackoff",value:function(){this.backoffTime=0}},{key:"log",value:function(e,t,i){var n="",r=this.name,s=this.pageviewEvent,o=this.queue;if(null!=s&&s.pageviewId){var a=s.clientId,u=s.pageviewTime,d=U()-u,l=o.length;n="[clientId=".concat(a," elapsed=").concat(d," qlen=").concat(l,"] ")}this.emit(e,"".concat(n).concat(t),K({name:r},i))}}],i&&q(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(i(538));class X{constructor(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pluginConfig={...i,customerId:e.config.customer,zeusVersion:e.version,isMobile:(0,a.isMobile)()},this.zeus=e,this.name="metricsv2",this.zeus.info("loading plugin",{name:this.name}),this.metricsAgent=new Z(this.pluginConfig);const n=null!==(t=i.logLevels)&&void 0!==t?t:[];this.enabledLogLevels=new Set(n.map((e=>e.toUpperCase()))),this.attachLogHandlers(),this.attachEventHandlers(),this.handlePerformanceObserver=this.handlePerformanceObserver.bind(this),i.enablePerformanceObserver&&this.attachPerformanceObserver()}static init(e,t){const{bucketSize:i}=t;return!(Math.random()>=i)&&new X(e,t)}attachEventHandlers(){const{zeus:e}=this;e.on("INIT",(()=>{const t=(0,o.getGdprConsent)(e),i=(0,o.getUspConsent)(e);this.metricsAgent.setGdprConsent(t),this.metricsAgent.setUspConsent(i),this.metricsAgent.handlePageInit()})),e.on("CCPA_UPDATED",(()=>{const t=(0,o.getUspConsent)(e);this.metricsAgent.setUspConsent(t)})),e.on("SLOTS_WILL_RENDER",(e=>{this.metricsAgent.handleSlotsWillRender(e.elements)})),e.on("SLOT_RENDER_ENDED",(t=>{let{element:i,data:n}=t;if(!i.zeus)return;const r=(0,a.getGAMID)(e.config),s=r?{gamId:r}:{};this.metricsAgent.handleSlotRenderEnded({element:i,data:n,...s})})),e.on("IMPRESSION_VIEWABLE",(e=>{let{element:t,data:i}=e;t.zeus&&this.metricsAgent.handleImpressionViewable({element:t,data:i})})),e.on("BID_COMPLETED",(e=>this.handleBidCompleted(e))),e.on("SLOT_REQUESTED",(e=>{let{element:t,data:i}=e;t.zeus&&this.metricsAgent.handleSlotRequested({element:t,data:i})})),this.metricsAgent.attachEventHandlers()}attachLogHandlers(){this.logHandlers={};for(const e of this.enabledLogLevels){const t=e.toUpperCase();this.logHandlers[t]||(this.logHandlers[t]=(e,i)=>{try{i=JSON.stringify(i)}catch(e){i=void 0}this.metricsAgent.logMessage(t,e,i)},this.zeus.on(t,this.logHandlers[t]))}}attachPerformanceObserver(){try{this.observer=new PerformanceObserver(this.handlePerformanceObserver),this.observer.observe({entryTypes:["resource"]})}catch(e){this.zeus.error("attachPerformanceObserver",{name:this.name,err:e})}}handlePerformanceObserver(e){for(const t of e.getEntries()){if("xmlhttprequest"!==t.initiatorType)continue;const e=t.name;if(e.endsWith("&trunc=1")&&-1!==e.indexOf("/gampad/ads")){const e=new URL(t.name),i=new URLSearchParams(e.searchParams.get("prev_scp")).getAll("zeus_slot").map((e=>e.replace(/\..*$/,"")));this.zeus.error("truncated google ads url",{name:this.name,err:{nodeIds:i}})}}}handleBidCompleted(e){let t=[];try{t=(0,o.buildNodeBidResults)(e,this.zeus.auctionManager)}catch(e){this.zeus.warn("Error on building Node Bid Results",{name:this.name,err:e})}for(const e of t){const{nodeId:t,sspName:i,price:n,error:r,auctionId:s,impId:a,responseTimestamp:u}=e;void 0!==n?this.metricsAgent.logBid(t,i,n,{auctionId:s,impId:a,timestamp:u}):this.metricsAgent.logBidError(t,i,(0,o.normalizeSspError)(r),{auctionId:s,impId:a,timestamp:u})}}}const $=X.init,ee="metricsv2"},298:(e,t,i)=>{"use strict";function n(e,t){let{elements:i,data:n}=e;const r=[],s=i.reduce(((e,i)=>(i.bidResponses.map((e=>({impId:e,...t[e]}))).forEach((t=>{const n="".concat(i.id,",").concat(t.sspName);e[n]=t})),e)),{});for(const e of n)for(const t of e.nodes){var o;const i=t.id,n="".concat(i,",").concat(e.ssp),{sspName:a,error:u,price:d,auctionId:l,impId:c,responseTimestamp:h}=null!==(o=s[n])&&void 0!==o?o:{sspName:e.ssp,error:e.msg,responseTimestamp:e.timestamp};"ias"!==a&&r.push({nodeId:i,sspName:a,error:u,price:d,auctionId:l,impId:c,responseTimestamp:h})}return r}function r(e){return"timeout"===(null==e?void 0:e.toLowerCase())?"timeout":"no bid"}function s(e){return!1===e.config.gdprApplies||!0===e.config.gdprConsents}function o(e){var t,i;return"Y"!==(null===(t=e.usPrivacy)||void 0===t||null===(i=t.uspString)||void 0===i?void 0:i[2])}i.r(t),i.d(t,{buildNodeBidResults:()=>n,getGdprConsent:()=>s,getUspConsent:()=>o,normalizeSspError:()=>r})},964:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Processor:()=>r,init:()=>o,name:()=>s});var n=i(63);class r{constructor(e){this.zeus=e}getInventoryConfig(e,t){const i=e.id.replace(/^slug_/gm,"");let r=t[i]||t[n.default.getNodeKey(i)];const s=e.inventoryConfig;return s&&(r=s),this.overrideRefreshStatus(r),this.applyConfigOverride(e,r),r||null}overrideRefreshStatus(e){const t=n.default.safeGet(this.zeus,"config.wpAdParams.commercialNode",void 0),i=n.default.safeGet(e,"refresh.exception",[]);t&&0!==i.length&&i.includes(t)&&(e.refresh.status=!1)}applyConfigOverride(e,t){var i,n;const r=null===(i=this.zeus.config)||void 0===i||null===(n=i.wpAdParams)||void 0===n?void 0:n.commercialNode;((null==t?void 0:t.configOverrides)||{})[r]&&e.setAttribute("data-configOverride",r)}}const s="processor",o=e=>new r(e)},394:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RenderCount:()=>n,init:()=>r,name:()=>s});class n{constructor(e){this.zeus=e,this.zeus.on("NODE_CONFIG_UPDATED",(e=>{let{node:t}=e;this.setRenderCount(t)})),this.zeus.on("AFTER_SLOT_RENDER",(e=>{let{elements:t}=e;null==t||t.forEach((e=>this.setRenderCount(e)))}))}setRenderCount(e){e.targeting={...e.targeting,zeus_rendercount:"".concat(e.renderCount+1)}}}const r=e=>new n(e),s="rendercount"},502:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SlotWeightKv:()=>r,init:()=>s,name:()=>o});const n={slug_brandconnect_front:100,slug_inline_bb:10,slug_inline_bb_2:10,slug_inline_bb_3:10,slug_inline_bb_4:25,slug_inline_bb_5:50,slug_inline_bb_6:100,slug_inline_bb_7:100,slug_inline_bb_8:100,slug_leaderboard_2:25,slug_leaderboard_3:25,slug_leaderboard_4:25,slug_bigbox_2:100,slug_bigbox_3:100,slug_bigbox_4:100,slug_mob_bigbox_2:10,slug_mob_bigbox_3:25,slug_mob_bigbox_4:50,slug_mob_bigbox_5:50,slug_mob_bigbox_6:100,slug_mob_bigbox_7:100,slug_mob_bigbox_8:100};class r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.zeus=e,this.config=t,this.slotWeight=t.weight||n,this.name="SlotWeightKv",this.init()}init(){this.zeus.on("NODE_CONFIG_UPDATED",(e=>{let{node:t}=e;const i=Math.floor(101*Math.random()),n=this.slotWeight[t.id];!n||n<i||this.setWeightKv(t)}))}setWeightKv(e){e.targeting={...e.targeting,pomo:"wpcg"}}}const s=(e,t)=>new r(e,t),o="slotweightkv"},924:(e,t,i)=>{"use strict";i.r(t),i.d(t,{UrlParams:()=>r,name:()=>o,onload:()=>s});var n=i(63);class r{constructor(e){this.zeus=e;const t=this.getFromUrl("headerbid"),i=this.getFromUrl("refresh_ads"),r=n.default.getCookie("wp_geo").includes("|EEA");this.isNoAds()&&this.halt(),this.isAppClassicIos()&&this.disableKruxPlugins(),("off"===t||r||this.isAppClassicIos())&&(this.disableKruxPlugins(),this.disableSspBidding()),"false"===i&&this.disableAdRefresh(),this.removeAds(),this.checkIsMobile(),this.registerPaywallApi()}checkIsMobile(){var e;const t=n.default.getCookie("wp_devicetype");null!==(e=this.zeus.config)&&void 0!==e&&e.wpAdParams||(this.zeus.config.wpAdParams={}),this.zeus.config.wpAdParams.isMobile=""===t?n.default.isMobile():"1"===t}removeAds(){const e=this.getFromUrl("demoAds");if(!e)return;const t=e.split(";");this.zeus.on("NODE_CONNECTED",(e=>{const i=this.zeus.adNodes.indexOf(e);t.includes(e.id)||-1===i||this.zeus.adNodes.splice(i,1)}))}pwapiConsumer(e){var t,i,n;const{action:r}=e;"function"==typeof(null===(t=window.zeus)||void 0===t||null===(i=t.plugins)||void 0===i||null===(n=i.urlparams)||void 0===n?void 0:n.disableAdRefresh)&&(!r||3!==r&&9!==r||(window.zeus.plugins.urlparams.disableAdRefresh(),window.zeus.adNodes.forEach((e=>{var t;null!==(t=e.zeus.inventoryConfig)&&void 0!==t&&t.refresh&&(e.zeus.inventoryConfig.refresh.status=!1)}))))}registerPaywallApi(){"function"==typeof(null==this?void 0:this.pwapiConsumer)&&("function"==typeof window.registerPwapiConsumer?window.registerPwapiConsumer(this.pwapiConsumer):(window.consumers=window.consumers||[],window.consumers.push(this.pwapiConsumer)))}getFromUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"variable";return n.default.urlCheck(window.location.href,e,t)}isNoAds(){const e=-1!=navigator.userAgent.indexOf("Facebot"),t=this.getFromUrl("no_ads","boolean"),i=this.isPremiumUser(),r=n.default.getCookie("scroll0").length>0;return t||e||i||r}isPremiumUser(){const e=String(n.default.getCookie("rplampr")).includes("Premium"),t=String(localStorage.getItem("rplampr")).includes("Premium"),i=String(n.default.getCookie("wapo_actmgmt")),r=i.includes("EU_NOADS:1")||i.includes("NOADS:1");return e||t||r}isAppClassicIos(){return navigator.userAgent.includes("Classic/")&&navigator.userAgent.includes("iOS/")}halt(){throw new Error("No ad set in url params")}disableKruxPlugins(){var e;null!==(e=this.zeus.config.plugins)&&void 0!==e&&e.kruxwrapper&&delete this.zeus.config.plugins.kruxwrapper.kruxId}disableSspBidding(){Object.keys(this.zeus.config.inventory).forEach((e=>{this.zeus.config.inventory[e]=Object.assign(this.zeus.config.inventory[e],{skipBidding:!0})}))}disableAdRefresh(){for(const e in this.zeus.config.inventory)this.zeus.config.inventory[e].refresh&&(this.zeus.config.inventory[e].refresh.status=!1)}}const s=(e,t)=>new r(e,t),o="urlparams"},668:(e,t,i)=>{"use strict";function n(e){const t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}i.r(t),i.d(t,{Usp:()=>u,name:()=>l,onload:()=>d});const r=function(e,t){const i=e||"1NYY";let r={uspString:i,uspStringSet:!1,getUSPString:e=>"".concat(e.iabSpec,e.explicitNotice,e.optOut,e.lspa),setUSPString:e=>{r.uspString=e},getUSPFromLS:function(e){let s=i;if(r.uspStringSet&&r.uspString.length>=4)e(r.uspString);else try{let i=n("wp_ucp"),o=n("wp_geo"),a=!1;o&&(a=o.includes("|EEA")),!a&&i&&/EAC:0\|/.test(i)||o&&o.match(/^US[|]CA/)&&navigator.globalPrivacyControl?s="1YYY":n("wp_usp")?s=n("wp_usp"):o&&!o.match(/^US[|]CA/)&&(s="1---");try{if("1YYY"!==s&&localStorage.getItem("wapo_identity")){const e=JSON.parse(localStorage.getItem("wapo_identity"));s=r.getUSPString(e.privacySetting.ccpa)}}catch(e){}if(!s)throw t.log("no usp data in ls or cookie"),new Error("no usp data in ls or cookie");r.setUSPString(s),r.uspStringSet=!0,e(r.uspString)}catch(n){return t.debug("error in accessing usp from local storage: ".concat(n,", returning default")),void e(i)}},getUSPData:function(e,t){r.getUSPFromLS((function(i){t({version:e,uspString:i},r.uspStringSet)}))},v1:{getUSPData:function(e){e?r.getUSPData(1,e):t.log("No uspapi callback received",e)}}};return function(e){window.ucp=window.ucp||{},window.ucp.usp=window.ucp.usp||{},window.ucp.usp.uspStringSet&&(e.uspString=window.ucp.usp.uspString,e.uspStringSet=window.ucp.usp.uspStringSet),window.ucp.usp=e}(r),r},s=function(e){try{if(navigator.globalPrivacyControl&&"CA"===e.geoState)this.uspapi.uspStringSet=!0,this.uspapi.setUSPString("1YYY");else if(e.privacySetting&&e.privacySetting.ccpa){let t=this.uspapi.getUSPString(e.privacySetting.ccpa);this.uspapi.setUSPString(t)}else e.geoState&&"CA"!=e.geoState&&this.uspapi.setUSPString("1---")}catch(e){this.logger.log("--USP DEBUG-- Auth Processing Failed",e)}},o=function(e,t){try{window.registerAuthConsumer?window.registerAuthConsumer(s.bind({uspapi:e,logger:t})):(window.authConsumers=window.authConsumers||[],window.authConsumers.push(s.bind({uspapi:e,logger:t})))}catch(e){t.log("--USP DEBUG-- Can not register AuthConsumer.",e)}};class a{constructor(e){window.__uspapi||((e,t)=>{const i=r("1NYY",t);window.__uspapi=function(e,n,r){return i["v"+n]&&"[object Function]"==={}.toString.call(i["v"+n][e])?r?void i["v"+n][e].apply(null,[r]):(t.log("No callback"),i["v"+n][e]):(t.log("Malformed uspapi call"),!1)},window.addEventListener("message",(function(e){if(e.data.hasOwnProperty("__uspapiCall")){e.stopImmediatePropagation&&e.stopImmediatePropagation();const t=e.data.__uspapiCall.command,i=e.data.__uspapiCall.version;t&&i&&window.__uspapi(t,i,(function(t,i){const n={__uspapiReturn:{returnValue:t,callId:e.data.__uspapiCall.callId,success:i}};e.source.postMessage(n,e.origin)}))}return null}),!1),e&&e(i,t)})(o,e)}}class u{constructor(e){console.debug("[Zeus - usp plugin] Usp Zeus Activated"),this.name="USP",this.zeus=e,e.usPrivacy=e.usPrivacy||{},e.usPrivacy.uspString=e.usPrivacy.uspString||"",this.uspStringSet=!1,this.logger=this.createLogger(),this.initUsp()}setUSPString(e){const{uspString:t}=e;this.zeus.usPrivacy.uspString=t,this.uspStringSet=!0}initUsp(){try{window.__uspapi?this.zeus.ccpa.collectAndSetString():(this.uspapi=new a(this.logger),window.__uspapi("getUSPData",1,(e=>this.setUSPString(e))))}catch(e){this.logger.log(e)}}createLogger(){return{log:this.zeus.info,debug:this.zeus.debug}}}const d=(e,t)=>new u(e,t),l="usp"},932:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ZeusAudience:()=>r,init:()=>o,name:()=>s});var n=i(63);class r{constructor(e,t){this.zeus=e,this.name="zeusAudience",this.config=t,this.getSegments()}createUUID(){const e=n.default.generateUUID();return localStorage.setItem("uuid",e),e}buildQuery(){const e={cartaId:n.default.getCookie("wp_crtid"),loginId:n.default.getCookie("wapo_login_id"),j_ucid:localStorage.getItem("uuid")||this.createUUID()};return Object.keys(e).reduce(((t,i)=>e[i]?[...t,"".concat(i,"=").concat(e[i])]:t),[]).join("&")}async getSegments(){try{const e=this.buildQuery(),t=await n.default.fetcherJSON("".concat(this.config.url,"?").concat(e),{method:"GET"});if(!t||"object"!=typeof t)return;localStorage.setItem("zeus_audience",JSON.stringify(t))}catch(e){this.zeus.error("fetch failed",{name:this.name,err:e})}}}const s="zeusAudience",o=(e,t)=>new r(e,t)},593:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ZeusPrime:()=>p});var n=i(63),r=new class{get showDebug(){var e;return!0===this._showDebug||!1===this._showDebug?this._showDebug:(null===(e=window.zeusPrime)||void 0===e?void 0:e.debug)||!1}set showDebug(e){this._showDebug=e}get error(){return console.error.bind(window.console,"[Zeus Prime]: %s")}get warn(){return console.warn.bind(window.console,"[Zeus Prime]: %s")}get info(){return console.info.bind(window.console,"[Zeus Prime]: %s")}get debug(){return this.showDebug?console.debug.bind(window.console,"[Zeus Prime]: %s"):()=>{}}};function s(){window.zeusPrime=window.zeusPrime||{cmd:[]};const e=[...window.zeusPrime.cmd];window.zeusPrime.cmd=[],window.zeusPrime.cmd.push=e=>{e(window.zeusPrime)},e.forEach((e=>e(window.zeusPrime)))}function o(e){var t,i;const n=null===(t=window)||void 0===t||null===(i=t.zeusPrime)||void 0===i?void 0:i.status;n&&(n[e]=!0)}function a(){try{new URLSearchParams(window.location.search).forEach(((e,t)=>{if(!t.startsWith("zeus_prime_"))return;let i=t.replace("zeus_prime_",""),n=e.toLowerCase();"true"===n||"1"===n?n=!0:"false"!==n&&"0"!==n||(n=!1),window.zeusPrime[i]=n}))}catch(e){}}function u(){var e,t;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.zeusPrime=window.zeusPrime||{cmd:[]},window.zeusPrime.gamId=i||n.gamId||window.zeusPrime.gamId||void 0,window.zeusPrime.api=n.api||"https://insights.zeustechnology.com",window.zeusPrime.hostname=n.hostname||(null===(e=window.location)||void 0===e?void 0:e.hostname)||"",window.zeusPrime.pathname=n.pathname||(null===(t=window.location)||void 0===t?void 0:t.pathname)||"",window.zeusPrime.pageUrl="".concat(window.zeusPrime.hostname).concat(window.zeusPrime.pathname),window.zeusPrime.pageHash=n.pageHash||null,window.zeusPrime.debug=window.zeusPrime.debug||!0===n.debug||!1,window.zeusPrime.disabled=window.zeusPrime.disabled||!0===n.disabled||!1,a(),r.showDebug=window.zeusPrime.debug,window.zeusPrime&&!window.zeusPrime.status&&Object.defineProperty(window.zeusPrime,"status",{enumerable:!1,value:{initComplete:!1,primeKeyValueSet:!1,insightsReqSent:!1,insightsReqReceived:!1,insightsKeyValueSet:!1,scriptComplete:!1}}),o("initComplete")}function d(){const{gamId:e,hostname:t}=window.zeusPrime;if("string"!=typeof e)throw new Error("window.zeusPrime.gamId must be a string. Received: ".concat(String(e)));l("zeus_".concat(e),t),r.debug("Setting zeus_".concat(e,"=").concat(t)),o("primeKeyValueSet")}function l(e,t){window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting(e,t)}))}async function c(){const{api:e,hostname:t,pageUrl:i}=window.zeusPrime;window.zeusPrime.pageHash||(window.zeusPrime.pageHash=await async function(e){try{const t=await window.crypto.subtle.digest("SHA-1",new TextEncoder("utf-8").encode(e));return Array.prototype.map.call(new Uint8Array(t),(e=>"00".concat(e.toString(16)).slice(-2))).join("")}catch(e){return r.error("Failed to load hash",e.message),r.debug("Exception",e),""}}(i));const n="".concat(e,"/").concat(t,"/").concat(window.zeusPrime.pageHash,"?article_location=").concat(i);r.debug("Requesting topics",n);try{o("insightsReqSent");const e=await async function(e){return await fetch(e)}(n);return 200===e.status?(r.debug("topics found"),o("insightsReqReceived"),await e.json()):204===e.status||e.status<200||e.status>=300&&e.status<=399?(r.debug("no topics found"),o("insightsReqReceived"),null):(r.error("Topics request returned error: ".concat(e.status)),o("insightsReqReceived"),null)}catch(e){return r.error("failed to request topics",e),null}}async function h(){if(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return void 0===[{test:/\/search/,type:"search"},{test:/\/author/,type:"author"},{test:/\/event/,type:"event"},{test:/\/homepage/,type:"front"},{test:/^\/?$/,type:"front"}].find((t=>e.match(t.test)))}(window.zeusPrime.pathname)){const e=await c();e&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0!==e.length&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("zeus_insights",e)})),o("insightsKeyValueSet"))}(null==e?void 0:e.topics)}else r.debug("This page is not eligible for topics, request will be skipped")}class p{constructor(e,t){this.pluginName="zeus-prime",this.zeus=e,this.primeOptions=function(e){var t;const i={...e};delete i.active,delete i.v2ApiChance,delete i.v2Api;const n=null!==(t=e.v2Api)&&void 0!==t?t:f;return void 0!==e.v2ApiChance&&Math.random()<e.v2ApiChance&&(i.api=n),i}(t),this.loadPrimeScript()}loadPrimeScript(){!async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.showDebug=t.debug||!1;try{u(e,t),s(),window.zeusPrime.disabled?(l("zeus_prime","false"),r.debug("Disabling prime; Setting key-value zeus_prime to false")):(d(),await h())}catch(e){r.error("Failed to run.",e.message||e)}finally{o("scriptComplete")}}((0,n.getGAMID)(this.zeus.config),this.primeOptions)}}const f="https://insights-v2.zeustechnology.com"},503:(e,t,i)=>{const{ZeusPrime:n}=i(593);e.exports={onload:(e,t)=>new n(e,t),ZeusPrime:n,name:"zeusPrime"}},598:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ZeusSlotKvs:()=>r,init:()=>s,name:()=>o});const n=i(63).default.isMobile;class r{constructor(e,t){this.zeus=e,this.testConfig=null==t?void 0:t.test,this.zeus.on("NODE_CONFIG_UPDATED",(e=>{let{node:t}=e;this.setZeusSlotKv(t)})),this.zeus.on("AFTER_SLOT_RENDER",(e=>{let{elements:t}=e;null==t||t.forEach((e=>this.setZeusSlotKv(e)))}))}getDeviceType(){let e="";return e=window.navigator.userAgent&&!0===n()?"mob":"dsk",".".concat(e)}getRenderType(e){return".".concat(0===e.renderCount?"init":"ref")}getTestVariant(){var e;return null!==(e=this.testConfig)&&void 0!==e&&e.active?".".concat(this.testConfig.variant):""}compileKv(e){const t=this.getDeviceType(),i=this.getRenderType(e);return"".concat(e.id).concat(i).concat(t)}setZeusSlotKv(e){try{var t;const i=this.compileKv(e),n={zeus_slot:i};if(null!==(t=this.testConfig)&&void 0!==t&&t.active){const e=this.getTestVariant();n.zeus_variant="".concat(i).concat(e)}e.targeting={...e.targeting,...n}}catch(e){this.zeus.error("set zeus_slot kv",{name:"zeusSlotKv",err:e})}}}const s=(e,t)=>new r(e,t),o="zeusslotkvs"},227:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Amazon9:()=>s,init:()=>o});var n=i(63);const r=["weather","climate","science","world"];class s{constructor(e){this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.a9Config=this.zeus.config.sspConfig.bidders.a9,this.name="a9",this.initA9(this.a9Config,this.timeout)}initA9(e,t){const{id:i}=e;if(window.apstag)return;function s(e,t){window.apstag._Q.push([e,t])}window.apstag={init(){s("i",arguments)},fetchBids(){s("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],_Q:[]};const o={pubID:i,adServer:"googletag",bidTimeout:t,deals:!0};this.zeus.ccpa.collectAndSetString().then((()=>{o.params={us_privacy:this.zeus.usPrivacy.uspString};const e=this.getSection();r.includes(e)&&(o.params.si_section=e)})).catch((e=>{this.zeus.warn("CCPA string not set",{name:this.name,err:null==e?void 0:e.msg})})).finally((()=>{window.apstag.init(o),n.default.loadScript({script:"//c.amazon-adsystem.com/aax2/apstag.js",onload:()=>this.zeus.timer("script loaded",{name:this.name}),onerror:e=>this.zeus.error("script loading failed",{name:this.name,err:e})})}))}getSection(){const{wpSection:e}=this.zeus.getKeyvalues()||{};if("string"==typeof e)return e}bid(e){return new Promise(((t,i)=>{if(window.apstag&&window.googletag&&e.length)try{const i=e.map((e=>({slotID:e.id,sizes:e.zeus.currentSizes,slotName:e.adUnitPath})));window.apstag.fetchBids({slots:i,timeout:this.timeout},(()=>{window.googletag.cmd.push((()=>{const r=i.map((e=>e.slotID));window.apstag.setDisplayBids(r),t(n.default.successBid(this.name,e))}))}))}catch(t){i(n.default.failureBid(this.name,e,t))}else i(n.default.failureBid(this.name,e))}))}}const o=e=>new s(e)},523:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AppNexus:()=>s,init:()=>o,keywords:()=>r});var n=i(63);const r=[{key:"audience",value:["oyhkuxted","qgtrnl530","tvjgv1mxj","tvjg8fux4","svt8gnnml","qv1e9kpgh","pmey58pzx","nizsx81pa","odqgpfxos"]}];class s{constructor(e){var t;t=async e=>{try{const t=this.buildSlots(e);if(!t.body.tags.length)return n.default.successBid(this.name,[]);const i=this.buildRequestPayload(t.body),r=await n.default.fetcherJSON("//ib.adnxs.com/ut/v3/prebid",{timeout:this.timeout,method:"POST",credentials:"include",withCredentials:!0,body:JSON.stringify(i)});return this.setBidTargeting(r,t.slotsToNodes),n.default.successBid(this.name,Object.values(t.slotsToNodes))}catch(t){return n.default.failureBid(this.name,e,null==t?void 0:t.message)}},"bid"in this?Object.defineProperty(this,"bid",{value:t,enumerable:!0,configurable:!0,writable:!0}):this.bid=t,this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.gamId=n.default.getGAMID(this.zeus.config),this.name="appnexus"}convertSizeArray(e){return"fluid"===e?{width:1,height:1}:{width:e[0],height:e[1]}}getPrimarySize(e){if(1===e.length)return e[0];const t=e.reduce(((e,t)=>(e[t.width*t.height]=t,e)),{});return t[Math.max.apply(null,Object.keys(t))]}parseSlot(e){const t=e.sspConfig.apnx,i=((null==t?void 0:t.sizes)||e.zeus.currentSizes).map((e=>this.convertSizeArray(e))),r=this.gamId,s=null!=t&&t.primary_size?this.convertSizeArray(t.primary_size):this.getPrimarySize(i),o=t.id;return{id:parseInt(o),uuid:n.default.generateShortId(),sizes:i,primary_size:s,disable_psa:!0,use_pmt_rule:!1,allow_smaller_sizes:!1,prebid:!0,adTypes:["banner"],...n.default.getGPID({gamId:r,node:e})}}buildSlots(e){var t;return e.reduce(((e,t)=>{var i;if(null==t||null===(i=t.sspConfig)||void 0===i||!i.apnx)return this.zeus.warn("no configs",{name:this.name,node:t}),e;const n=this.parseSlot(t);return e.body.tags.push(n),e.slotsToNodes[n.uuid]=t,e}),{body:{tags:[],us_privacy:null===(t=this.zeus.usPrivacy)||void 0===t?void 0:t.uspString},slotsToNodes:{}})}buildRequestPayload(e){const t=this.zeus.config.gdprConsentString,i=Object.assign({},e);if(t){const e=this.zeus.config.gdprApplies;i.gdpr_consent={consent_string:t,consent_required:e}}return this.addEIDs(i),i.referrer_detection=this.getReferrerInfo(),i.keywords=r,i.source={tid:n.default.generateUUID()},i}addEIDs(e){const t=[...this.getLiveRampId()];0!==t.length&&(e.eids=t)}getLiveRampId(){var e,t;const i=null===(e=this.zeus)||void 0===e||null===(t=e.liveRamp)||void 0===t?void 0:t.uid;return i?[{source:"liveramp.com",id:i}]:[]}getReferrerInfo(){const e=window.location.href||null;return{rd_top:!0,rd_ifs:0,rd_ref:e,rd_stk:e}}setBidTargeting(e,t){var i;if(null==e||null===(i=e.tags)||void 0===i||!i.length)throw new Error("No tags found");const r=n.default.generateUUID();e.tags.forEach((e=>{const i=null==e?void 0:e.uuid,s=t[i];if(!s)return this.zeus.warn("no node found for response",{name:this.name});try{var o;const t=this.parseNodeForTargeting({ad:null==e||null===(o=e.ads)||void 0===o?void 0:o[0],tag:e,node:s,auctionId:r});n.default.setBidTargetingForNode(t)}catch(e){n.default.setAuctionManager({node:s,auctionId:r,impId:n.default.generateShortId(),sspName:this.name,error:null==e?void 0:e.message})}}))}parseNodeForTargeting(e){let{ad:t,tag:i,node:r,auctionId:s}=e;if(!t)throw new Error("No ad data found");if(!t.content_source)throw new Error("no content source");if("banner"!==t.ad_type)throw new Error("incorrect ad type");if(!t.cpm)throw new Error("no cpm found");const o=t[t.content_source][t.ad_type];let a=o.content;const u=t[t.content_source].trackers[0].impression_urls;for(var d=0;d<u.length;d++)a+=n.default.createTrackingPixelHTML(u[d]);return{node:r,sspName:this.name,targeting:t.deal_id?{zeus_deal_appnexus:t.deal_id}:{},price:t.cpm,auctionId:s,impId:i.uuid,creativeCode:a,width:o.width,height:o.height}}}const o=e=>new s(e)},595:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Criteo:()=>s,init:()=>o});var n=i(63);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e){r(this,"makeTheBiddingFunction",((e,t,i,n)=>{this.api.RequestBidsOnGoogleTagSlots({networkId:e,placements:i,callback:e=>(this.api.SetDFPKeyValueTargeting(),n(e))},t)})),r(this,"requestBid",(e=>new Promise(((t,i)=>{var n,r;if("number"!=typeof(null===(n=this.criteoConfig)||void 0===n?void 0:n.id))return i(new Error("plugin misconfigured"));if(null===(r=this.api)||void 0===r||!r.RequestBidsOnGoogleTagSlots)return i(new Error("No API found"));const s=setTimeout((()=>i(new Error("TIMEOUT"))),this.timeout),o=e.map((e=>e.slot));this.api.events.push(this.makeTheBiddingFunction(this.criteoConfig.id,this.timeout,o,(e=>{clearTimeout(s),Array.isArray(e)?t(e):i(new Error("Invalid Payload"))})))})))),this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.criteoConfig=this.zeus.config.sspConfig.bidders.criteo,this.name="criteo",this.bidIds={},this.loadScript()}loadScript(){n.default.getCookie("wp_geo").includes("|EEA")||n.default.loadScript({script:"//static.criteo.net/js/ld/publishertag.js",onload:()=>this.zeus.timer("script loaded",{name:this.name}),onerror:e=>this.zeus.error("script loading failed",{name:this.name,err:e})})}get api(){return window.Criteo}setBidData(e,t){const i=n.default.generateUUID(),r=e.filter((e=>!this.bidIds[e.id]));if(!r.length)throw new Error("No bids received");r.forEach((e=>{let{id:r,displayUrl:s,width:o,height:a,cpm:u,impressionId:d}=e;const l=t.find((e=>e.id===d));if(!l)return this.zeus.warn("No bid received for ".concat(d),{name:this.name});n.default.setAuctionManager({auctionId:i,sspName:this.name,impId:r,creativeCode:s,width:o,height:a,price:u,node:l}),this.bidIds[r]=r}))}async bid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{const t=await this.requestBid(e);return this.setBidData(t,e),n.default.successBid(this.name,e)}catch(t){return n.default.failureBid(this.name,e,null==t?void 0:t.message)}}}const o=e=>new s(e)},995:(e,t,i)=>{"use strict";i.r(t),i.d(t,{IAS:()=>l,init:()=>c});var n=i(63);const{successBid:r,failureBid:s,setTargetings:o,generateUUID:a,setAuctionManager:u,fetcherJSON:d}=n.default;class l{constructor(e){var t,i,n;this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.apiId=null===(t=this.zeus.config.sspConfig)||void 0===t||null===(i=t.bidders)||void 0===i||null===(n=i.ias)||void 0===n?void 0:n.id,this.name="ias",this.apiURL="//pixel.adsafeprotected.com/services/pub",this.hasSetPageKV=!1}buildSlotsParams(e){return e.map((e=>{const t=e.zeus.currentSizes.map((e=>Array.isArray(e)?e.join("."):"1.8"));return["slot","{id:".concat(e.id,",ss:[").concat(t.join(","),"],p:").concat(e.adUnitPath,"}")].join("=")}))}buildPageParams(){var e,t,i,n;if(!this.apiId)throw new Error("IAS Missing api Id");return[["wr",[window.innerWidth||-1,window.innerHeight||-1].join(".")],["sr",[(null===(e=window)||void 0===e||null===(t=e.screen)||void 0===t?void 0:t.width)||-1,(null===(i=window)||void 0===i||null===(n=i.screen)||void 0===n?void 0:n.height)||-1].join(".")],["url",encodeURIComponent(window.location.href)],["anId",this.apiId]].map((e=>e.join("=")))}buildRequest(e){const t=this.buildPageParams(),i=this.buildSlotsParams(e);return"".concat(this.apiURL,"?").concat([...t,...i].join("&"))}setBidTargeting(e,t){var i;if(null==e||!e.slots)throw new Error("no bid response");t.forEach((t=>{try{const i=e.slots[t.id];if(!i)throw new Error("No ad response");o(i,t.slot)}catch(e){u({auctionId:a(),sspName:this.name,node:t,error:null==e?void 0:e.message})}})),this.hasSetPageKV||(this.zeus.emit("ADD_KEYVALUES",{...e.brandSafety,fr:e.fr,"ias-kw":null==e||null===(i=e.custom)||void 0===i?void 0:i["ias-kw"]}),this.hasSetPageKV=!0)}async bid(e){try{const t=this.buildRequest(e),i=await d(t,{timeout:this.timeout,method:"GET",credentials:"include",headers:{"Content-Type":"text/plain"},withCredentials:!0});return this.setBidTargeting(i,e),r(this.name,e)}catch(t){return s(this.name,e,null==t?void 0:t.message)}}}const c=e=>new l(e)},204:(e,t,i)=>{"use strict";i.r(t),i.d(t,{IndexExchange:()=>s,init:()=>o});var n=i(63);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e){var t,i,s,o,a,u,d,l,c,h,p,f,g;if(r(this,"fetchBids",(e=>new Promise((t=>{this.api.retrieveDemand(e,(e=>t(e)),this.options)})))),r(this,"buildTargeting",((e,t,i)=>t.reduce(((t,r)=>{this.buildKeyValue(t.kv,r.targeting);const[s,o]=r.size||[];return t.bids.push({auctionId:i,impId:n.default.generateShortId(),sspName:this.name,price:r.price/100,node:e,height:s,width:o}),t}),{kv:{},bids:[]}))),r(this,"buildKeyValue",((e,t)=>{for(const i in t)e[i]?e[i].push(t[i]):e[i]=[t[i]]})),r(this,"setTargeting",((e,t,i)=>{if(null==e||!e.slot)throw new Error("No slots returned from IX");Object.keys(t).forEach((r=>{try{var s;if(null==e||null===(s=e.slot[r])||void 0===s||!s.length)throw new Error("No bid data found");const{bids:o,kv:a}=this.buildTargeting(t[r],null==e?void 0:e.slot[r],i);n.default.setTargetings({...a},t[r].slot),o.forEach((e=>n.default.setAuctionManager(e)))}catch(e){n.default.setAuctionManager({auctionId:i,impId:n.default.generateShortId(),node:t[r],sspName:this.name,error:null==e?void 0:e.message})}}))})),this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.slotPrefix=(null===(t=this.zeus.general)||void 0===t?void 0:t.slotPrefix)||"zeus_",this.script=null===(i=this.zeus.config.sspConfig)||void 0===i||null===(s=i.bidders)||void 0===s||null===(o=s.indexExchange)||void 0===o?void 0:o.script,this.useSizes=null===(a=this.zeus.config.sspConfig)||void 0===a||null===(u=a.bidders)||void 0===u||null===(d=u.indexExchange)||void 0===d?void 0:d.useSizes,this.useSort=null===(l=this.zeus.config.sspConfig)||void 0===l||null===(c=l.bidders)||void 0===c||null===(h=c.indexExchange)||void 0===h?void 0:h.useSort,this.ignoreSizes=null===(p=this.zeus.config.sspConfig)||void 0===p||null===(f=p.bidders)||void 0===f||null===(g=f.indexExchange)||void 0===g?void 0:g.ignoreSizes,this.alwaysIgnoredSizes=[[1,1],"fluid"],this.options={timeout:this.timeout},this.name="indexExchange",!this.script)return this.zeus.error("no script present",{name:this.name});n.default.loadScript({script:this.script,onload:()=>this.zeus.timer("script loaded",{name:this.name}),onerror:e=>this.zeus.error("script loading failed",{name:this.name,err:e})})}get api(){return window.headertag}getValidSizes(e){var t;let i=this.alwaysIgnoredSizes;return null!==(t=this.ignoreSizes)&&void 0!==t&&t.length&&(i=[...i,...this.ignoreSizes]),e.filter((e=>!i.find((t=>t.toString()===e.toString()))))}formatSizes(e){let t="";return e.reduce(((i,n,r)=>{!r||r%3||(i.push(t),t="");const s=Array.isArray(n)?"".concat(n[0],"x").concat(n[1]):n;return t="".concat(t).concat(s,"_"),r+1===e.length&&i.push(t),i}),[])}getSizePostfix(e,t){for(let i=1;i<=5;i++){const n="".concat(e).concat(i);if(!t[n])return n}}buildSlotSizeNames(e,t,i){const r=this.getValidSizes(t.zeus.currentSizes);this.useSort&&r.sort(n.default.sort2dSizeArray);const s=this.formatSizes(r);for(const r of s){const s=this.getSizePostfix(r,e.nodeMap);s?(e.nodeMap[s]=t,e.slotNames.push({htSlotName:s})):n.default.setAuctionManager({auctionId:i,impId:n.default.generateShortId(),node:t,sspName:this.name,error:"".concat(r," exceeded limit")})}return e}buildSlotNames(e,t){var i,n;const r=(null===(i=t.sspConfig)||void 0===i||null===(n=i.indexExchange)||void 0===n?void 0:n.name)||t.id.replace(this.slotPrefix,"");return e.slotNames.push({htSlotName:r}),e.nodeMap[r]=t,e}getSlotNames(e,t){return e.reduce(((e,i)=>this.useSizes?this.buildSlotSizeNames(e,i,t):this.buildSlotNames(e,i)),{slotNames:[],nodeMap:{}})}async bid(e){try{var t;if(null===(t=this.api)||void 0===t||!t.retrieveDemand)throw new Error("no indexExchange headertag present");const i=n.default.generateUUID(),{slotNames:r,nodeMap:s}=this.getSlotNames(e,i),o=await this.fetchBids(r);return this.setTargeting(o,s,i),n.default.successBid(this.name,e,i)}catch(t){return n.default.failureBid(this.name,e,null==t?void 0:t.message)}}}const o=e=>new s(e)},589:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Openx:()=>r,init:()=>s});var n=i(63);class r{constructor(e){var t,i,r,s;s=async e=>{try{const t=n.default.generateShortId(),i=this.buildSlots(e,t),r=Object.values(i.nodes);if(!r.length)return n.default.successBid(this.name,[]);const s=this.buildRequest(i),o=await n.default.fetcherJSON(s,{timeout:this.timeout,method:"GET",credentials:"include",headers:{"Content-Type":"text/plain"},withCredentials:!0});return this.setBidTargeting(o,i,t),n.default.successBid(this.name,r)}catch(t){return n.default.failureBid(this.name,e,null==t?void 0:t.message)}},"bid"in this?Object.defineProperty(this,"bid",{value:s,enumerable:!0,configurable:!0,writable:!0}):this.bid=s,this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.SSPDOMAIN=(null===(t=this.zeus.config.sspConfig)||void 0===t||null===(i=t.bidders)||void 0===i||null===(r=i.openx)||void 0===r?void 0:r.domain)||"",this.name="openx"}buildSlots(e,t){return e.reduce(((e,i,n)=>{var r,s,o,a,u;const d=null==i||null===(r=i.sspConfig)||void 0===r||null===(s=r.openx)||void 0===s?void 0:s.id,l=(null==i||null===(o=i.sspConfig)||void 0===o||null===(a=o.openx)||void 0===a?void 0:a.sizes)||(null==i||null===(u=i.zeus)||void 0===u?void 0:u.currentSizes);if(!d||null==l||!l.length)return e;const c=l.filter((e=>"fluid"!==e)).map((e=>{let[t,i]=e;return"".concat(t,"x").concat(i)}));return e.attrs.push({sizes:c.join(","),oxAdUnitId:d}),e.nodes["".concat(t,"_").concat(d,"_").concat(n)]=i,e}),{attrs:[],nodes:{}})}buildRequest(e){const t={auid:[],aus:[],bc:"hb_pb_wapo",be:"1",ch:"UTF-8",ju:encodeURIComponent(window.location.href),res:"".concat(window.screen.width,"x").concat(window.screen.height,"x").concat(window.screen.colorDepth),tz:(new Date).getTimezoneOffset(),nocache:(new Date).valueOf(),dddid:n.default.generateUUID(),...this.getLiveRampInfo(),...this.getGdprInfo(),...this.getCCPAInfo()};e.attrs.forEach((e=>{t.auid.push(e.oxAdUnitId),t.aus.push(e.sizes)})),t.aus=t.aus.join("|");const i=Object.keys(t).map((e=>"".concat(e,"=").concat(t[e]instanceof Array?t[e].join(","):t[e])));return"".concat(this.SSPDOMAIN,"?").concat(i.join("&"))}getLiveRampInfo(){var e,t;const i=null===(e=this.zeus)||void 0===e||null===(t=e.liveRamp)||void 0===t?void 0:t.uid;return i?{lre:i}:{}}getGdprInfo(){const{gdprApplies:e,gdprConsentString:t}=this.zeus.config;return t?{gdpr:e,gdpr_consent:t}:{}}getCCPAInfo(){return this.zeus.usPrivacy&&this.zeus.usPrivacy.uspString?{us_privacy:this.zeus.usPrivacy.uspString}:{}}setBidTargeting(e,t,i){var r;if(null==e||null===(r=e.ads)||void 0===r||!r.count)throw new Error("no ads slots present");if(!Array.isArray(e.ads.ad))throw new Error("Invalid response type");const s=n.default.generateUUID();e.ads.ad.forEach((r=>{const o=null==r?void 0:r.adunitid,a=(null==r?void 0:r.idx)||0,u="".concat(i,"_").concat(o,"_").concat(a),d=t.nodes[u];if(!d)return this.zeus.warn("no slot found ".concat(u),{name:this.name});try{var l;if(!r.html||!r.pub_rev||null===(l=r.creative)||void 0===l||!l.length)throw new Error("No html, pub_rev, or creative found on response");const t=r.creative[0];let i=r.html;e.ads.pixels&&(i+=n.default.createTrackingPixeliFrame(e.ads.pixels)),n.default.setBidTargetingForNode({node:d,sspName:this.name,auctionId:s,impId:u,creativeCode:i,width:null==t?void 0:t.width,height:null==t?void 0:t.height,price:parseInt(r.pub_rev,10)/1e3})}catch(e){n.default.setAuctionManager({node:d,sspName:this.name,auctionId:s,impId:u,error:null==e?void 0:e.message})}}))}}const s=(e,t)=>new r(e,t)},275:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Pubmatic:()=>s,init:()=>o});var n=i(63);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e){var t,i;r(this,"loadUserSync",(()=>{this.loadImageSync()})),r(this,"loadImageSync",(()=>{var e,t;const{gdprApplies:i,gdprConsentString:n}=this.zeus.config,r=i?"&gdpr=".concat(i):"",s=n?"&gdpr_consent=".concat(n):"",o="?p=161044&mpc=4&fp=1".concat(r).concat(s),a=window.document.createElement("img");this.imgTagSrc="https://image8.pubmatic.com/AdServer/ImgSync"+o,a.src=this.imgTagSrc,a.style.width="1px",a.style.height="1px",null===(e=document)||void 0===e||null===(t=e.head)||void 0===t||t.appendChild(a)})),r(this,"buildSlots",(e=>{const t=e.reduce(((e,t)=>(n.default.coerceValueIntoArray(t.sspConfig,this.name,{}).forEach((i=>{const r=i.tagid||t.id,s=i.sizes?i.sizes:n.default.convertToOpenRtbSizes(t.zeus.currentSizes),o=n.default.generateShortId(),{w:a,h:u}=s[0],d={id:o,tagid:r,banner:{w:a,h:u,format:[...s]}};this.gamId&&(d.ext={dfp_ad_unit_code:this.gamId,...n.default.getGPID({gamId:this.gamId,node:t})}),e.slotsToNodes[o]=t,e.slots.push(d)})),e)),{slots:[],slotsToNodes:{}});if(0===t.slots.length)throw new Error("No SSP config objects found");return t})),r(this,"buildRequest",(e=>{var t,i,r;const s=window.location.host,{gdprApplies:o,gdprConsentString:a}=this.zeus.config,u=null===(t=this.zeus)||void 0===t||null===(i=t.liveRamp)||void 0===i?void 0:i.uid;return Object.assign({id:n.default.generateUUID(),imp:e,site:{domain:s,page:s+window.location.pathname+window.location.search+window.location.hash,publisher:{id:this.bidderConfig.publisherId}},device:{ua:null===(r=window.navigator)||void 0===r?void 0:r.userAgent},at:1,test:Number(this.isTestBid),source:{tid:n.default.generateUUID()},...n.default.getRegs({gdprApplies:o,gdprConsentString:a}),...n.default.getUser({uid:u,gdprApplies:o,gdprConsentString:a})},this.zeus.usPrivacy&&this.zeus.usPrivacy.uspString?{us_privacy:this.zeus.usPrivacy.uspString}:{})})),r(this,"setBidTargeting",((e,t,i)=>{try{if(null==t||!t.slot)return this.zeus.warn("No slot present",{name:this.name,node:t});if(!e)throw new Error("No bid data");n.default.setBidTargetingForNode({node:t,auctionId:i,sspName:this.name,impId:e.impid,creativeCode:decodeURIComponent(e.adm),width:e.w,height:e.h,price:e.price})}catch(e){n.default.setAuctionManager({sspName:this.name,node:t,auctionId:i,impId:n.default.generateShortId(),error:null==e?void 0:e.message})}})),r(this,"processBidResponse",((e,t,i)=>{if(null==e||!e.seatbid)throw new Error("No bids returned");e.seatbid.forEach((e=>{const n=e.bid.reduce(((e,i)=>{const n=t[i.impid].id;return(!e[n]||e[n].price<i.price)&&(e[n]=i),e}),{});Object.values(n||{}).forEach((e=>{this.setBidTargeting(e,t[e.impid],i.id)}))}))})),r(this,"bid",(async e=>{try{const{slots:t,slotsToNodes:i}=this.buildSlots(e),r=this.buildRequest(t),s=await n.default.fetcherJSON("https://hbopenbid.pubmatic.com/translator?source=zeus_client",{timeout:this.timeout,method:"POST",credentials:"include",withCredentials:!0,body:JSON.stringify(r)});return this.processBidResponse(s,i,r),n.default.successBid(this.name,e)}catch(t){return n.default.failureBid(this.name,e,null==t?void 0:t.message)}})),this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.bidderConfig=(null===(t=this.zeus.config.sspConfig)||void 0===t||null===(i=t.bidders)||void 0===i?void 0:i.pubmatic)||{},this.isTestBid=/[?&]t=1/.test(window.location.href),this.gamId=n.default.getGAMID(this.zeus.config),this.name="pubmatic"}static init(e){const t=new s(e);return t.loadUserSync(),t}}const o=s.init},772:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Rubicon:()=>o,audience:()=>s,init:()=>a});var n=i(63);const r={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",229:"320x180",232:"580x400",257:"400x600"},s=["odqgpfxos","nizsx81pa","pmey58pzx","qv1e9kpgh","svt8gnnml","tvjg8fux4","tvjgv1mxj","qgtrnl530","oyhkuxted"];class o{constructor(e){var t,i,r;r=async e=>{try{const t=this.buildSlot(e);if(!t.length)return n.default.successBid(this.name,[]);const i=this.buildRequest(t),r=n.default.generateUUID(),s=await n.default.fetcherJSON(i,{timeout:this.timeout,method:"GET",credentials:"include",withCredentials:!0});this.setBidTargeting(s,t,r);const o=t.map((e=>e.node));return n.default.successBid(this.name,o)}catch(t){return n.default.failureBid(this.name,e,null==t?void 0:t.message)}},"bid"in this?Object.defineProperty(this,"bid",{value:r,enumerable:!0,configurable:!0,writable:!0}):this.bid=r,this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.bidderConfig=(null===(t=this.zeus.config.sspConfig)||void 0===t||null===(i=t.bidders)||void 0===i?void 0:i.rubicon)||{},this.gamId=n.default.getGAMID(this.zeus.config),this.name="rubicon"}sortPriority(e){const t=["15","2","9"];return e.sort((function(e,i){const n=t.indexOf(e),r=t.indexOf(i);return n>-1||r>-1?-1===n?1:-1===r?-1:n-r:Number(e)-Number(i)}))}convertSizesToIds(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>"fluid"===e?"":"".concat(e[0],"x").concat(e[1])));return Object.keys(r).filter((t=>e.includes(r[t])))}buildSlot(e){return e.reduce(((e,t)=>{var i,n,r,s,o;const a=(null==t||null===(i=t.sspConfig)||void 0===i||null===(n=i.rubicon)||void 0===n?void 0:n.sizeIds)||this.convertSizesToIds(null==t||null===(r=t.zeus)||void 0===r?void 0:r.currentSizes),u=null==t||null===(s=t.sspConfig)||void 0===s||null===(o=s.rubicon)||void 0===o?void 0:o.zoneId;return u&&null!=a&&a.length?[...e,{node:t,zoneId:u,sizeIds:this.sortPriority(a)}]:e}),[])}buildRequest(e){var t,i;const r=this.gamId,o={},a=[],u=[],d=[],l=[],{gdprApplies:c,gdprConsentString:h}=this.zeus.config,p=null===(t=this.zeus)||void 0===t||null===(i=t.liveRamp)||void 0===i?void 0:i.uid;let f="//fastlane.rubiconproject.com/a/api/fastlane.json";o.account_id=this.bidderConfig.accountId,o.site_id=n.default.getValueForBreakpoint(this.zeus,this.bidderConfig.siteId,n.default.getViewportSize()),o.tk_flint=this.bidderConfig.tkFlint,o.slots=e.length;for(let t=0;t<e.length;t++){const i=e[t],n=i.sizeIds;a.push(n[0]),u.push(n.slice(1).join(",")),d.push(i.zoneId),l.push("".concat(r,"/").concat(i.node.id))}o.size_id=a.join(";"),o.alt_size_ids=u.join(";"),o.zone_id=d.join(";"),o.rp_floor=.01,o.p_gpid=l.join(";"),this.zeus.usPrivacy&&this.zeus.usPrivacy.uspString&&(o.us_privacy=this.zeus.usPrivacy.uspString),h&&(o.gdpr=c,o.gdpr_consent=h),p&&(o.x_liverampidl=p),o["tg_v.audience"]=s.join(),o["x_source.tid"]=n.default.generateUUID();const g=Object.keys(o),m=[];for(let e=0;e<g.length;e++)m.push("".concat(g[e],"=").concat(encodeURIComponent(o[g[e]])));return f+="?".concat(m.join("&")),f}formatAdResponse(e,t,i){var n;if("ok"!==(null==e?void 0:e.status))throw new Error("bad ad status ".concat(null==e?void 0:e.reason));if(null==t||null===(n=t.sizeIds)||void 0===n||!n.find((t=>t===(null==e?void 0:e.size_id))))throw new Error("size mismatch ".concat(null==e?void 0:e.size_id));const[s,o]=r[e.size_id].split("x");return{auctionId:i,sspName:this.name,node:t.node,impId:"".concat(e.impression_id),creativeCode:"<script>".concat(e[e.type],"<\/script>"),width:s,height:o,price:e.cpm}}setBidTargeting(e,t,i){var r;if("error"===(null==e?void 0:e.status))throw new Error(e.reason||"Unknown error");if(null==e||null===(r=e.ads)||void 0===r||!r.length)throw new Error("bid returned empty");e.ads.forEach(((e,r)=>{var s;const o=null===(s=t[r])||void 0===s?void 0:s.node;if(null==o||!o.id)return this.zeus.warn("no slot found for response",{name:this.name});try{const s=this.formatAdResponse(e,t[r],i);n.default.setBidTargetingForNode(s)}catch(e){n.default.setAuctionManager({node:o,auctionId:i,impId:n.default.generateShortId(),sspName:this.name,error:e.message})}}))}}const a=e=>new o(e)},501:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Trustx:()=>s,init:()=>o});var n=i(63);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e){var t,i;r(this,"buildSlots",(e=>{const t=this.gamId,i=e.reduce(((e,i)=>{const r=i.zeus.sspConfig[this.name],s=n.default.generateShortId(),{auid:o}=r||{};if(!o)return e;const a=(r.sizes||n.default.convertToOpenRtbSizes(i.zeus.currentSizes)).filter((e=>{let{w:t}=e;return t>=50})),u=a[0],d={id:s,tagid:"".concat(o),banner:{w:u.w,h:u.h,format:[...a]}};return t&&(d.ext={...n.default.getGPID({gamId:t,node:i})}),e.slotsToNodes[s]=i,e.slots.push(d),e}),{slots:[],slotsToNodes:{}});if(0===i.slots.length)throw new Error("No slots found with config");return i})),r(this,"buildRequest",(e=>{var t,i,r;const s=this.bidderConfig.domain||window.location.host,o=null===(t=this.zeus)||void 0===t||null===(i=t.usPrivacy)||void 0===i?void 0:i.uspString,{gdprApplies:a,gdprConsentString:u}=this.zeus.config,d=null===(r=this.zeus.liveRamp)||void 0===r?void 0:r.uid;return{id:n.default.generateUUID(),imp:e,site:{page:s+window.location.pathname+window.location.search+window.location.hash},tmax:this.timeout,source:{ext:{wrapper:"zeus",wrapper_version:this.zeus.version},tid:n.default.generateUUID()},...n.default.getRegs({gdprApplies:a,gdprConsentString:u,usPrivacy:o}),...n.default.getUser({uid:d,gdprApplies:a,gdprConsentString:u})}})),r(this,"setBidTargeting",((e,t,i)=>{try{n.default.setBidTargetingForNode({auctionId:i,node:t,sspName:this.name,impId:e.impid,creativeCode:e.adm,width:e.w,height:e.h,price:e.price})}catch(e){n.default.setAuctionManager({node:t,auctionId:i,sspName:this.name,error:e.message})}})),r(this,"processBidResponse",((e,t,i)=>{if(null==e||!e.seatbid)throw new Error("No bids returned");e.seatbid.forEach((e=>{const n=e.bid.reduce(((e,i)=>{const n=t[i.impid].id;return(!e[n]||e[n].price<i.price)&&(e[n]=i),e}),{});Object.values(n||{}).forEach((e=>{this.setBidTargeting(e,t[e.impid],i.id)}))}))})),r(this,"bid",(async e=>{try{const{slots:t,slotsToNodes:i}=this.buildSlots(e),r=this.buildRequest(t),s=await n.default.fetcherJSON("https://grid.bidswitch.net/hbjson?sp=trustx",{useXHR:!0,method:"POST",timeout:this.timeout,credentials:"include",withCredentials:!0,body:JSON.stringify(r)});return this.processBidResponse(s,i,r),n.default.successBid(this.name,e)}catch(t){return n.default.failureBid(this.name,e,t.message)}})),this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.bidderConfig=(null===(t=this.zeus.config.sspConfig)||void 0===t||null===(i=t.bidders)||void 0===i?void 0:i.mediaGrid)||{},this.gamId=n.default.getGAMID(this.zeus.config),this.name="trustx"}}const o=e=>new s(e)},97:(e,t,i)=>{"use strict";function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const i="".concat(document.cookie),n="".concat(e,"=");let r=0,s=0;return i.length>0&&(r=i.indexOf(n),-1!==r&&(r+=n.length,s=i.indexOf(";",r),-1===s&&(s=i.length),t=unescape(i.substring(r,s)))),t}function r(e,t,i,n,r,s){document.cookie=e+"="+escape(t)+(i?"; expires="+i:"")+(n?"; path="+n:"")+(r?"; domain="+r:"")+(s?"; secure":"")}function s(){const e="test";let t=!1;try{localStorage.setItem(e,e),localStorage.removeItem(e),t=!0}catch(e){t=!1}return t}i.r(t),i.d(t,{areCookiesAvailable:()=>s,getCookie:()=>n,setCookie:()=>r})},63:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c,getGAMID:()=>l,getNodeKey:()=>d,isMobile:()=>u,safeGet:()=>a});var n=i(196);const{getCookie:r,setCookie:s,areCookiesAvailable:o}=i(97),a=(e,t,i)=>t.split(".").reduce(((e,t)=>e&&e[t]?e[t]:i),e);function u(){const e=r("wp_devicetype");return""!==e?"1"===e:window.innerWidth<=480}function d(e){return e.replace(/[0-9]+\b/gm,"*")}function l(e){var t,i;return null==e||null===(t=e.plugins)||void 0===t||null===(i=t.dfpnode)||void 0===i?void 0:i.dfpId}const c={getCookie:r,setCookie:s,areCookiesAvailable:o,getViewportSize:n.S3,getValueForBreakpoint:n.rd,processConfigForBreakpoint:n.M_,watchForBreakpointUpdates:n.DG,createTrackingPixelHTML:n.tr,createTrackingPixeliFrame:n.Yq,successBid:n.fg,failureBid:n.H_,pollForValues:n._b,urlCheck:function(e,t,i){const n=("variable"===i?new RegExp("[\\?&;]".concat(t,"=([^&#?]*)")):new RegExp("[\\?&;](".concat(t,")[^=&#?]*"))).exec(e);return n?n[n.length-1]:void 0},setTargetings:n.f3,setCategoryExclusions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;e.forEach((e=>t.setCategoryExclusion(e)))},loadScript:n.ve,loadScripts:function(e){const t=(0,n.f2)();e.forEach((e=>{(0,n.ve)({script:e,node:t})}))},safeGet:a,getValidPeriod:function(e,t){return t.find((t=>{const i=t.start?new Date(t.start):-1/0,n=t.end?new Date(t.end):1/0;return e>=i&&e<=n}))},isStorageAvailable:function(){const e="test";let t=!1;try{localStorage.setItem(e,e),localStorage.removeItem(e),t=!0}catch(e){t=!1}return t},isMobile:u,isElementCloseToViewport:n.gv,generateUUID:n.DO,getNodePos:n.Om,getNodeKey:d,isValidKeyValuePair:e=>e&&"object"==typeof e&&!Array.isArray(e)&&Object.keys(e).length>0,createZeusAdCss:function(e){const t=document.createElement("style");t.type="text/css";const i="\n    ".concat(e," {\n      display: block;\n    }\n  ");t.appendChild(document.createTextNode(i)),(document.head||document.getElementsByTagName("head")[0]).appendChild(t)},setBidTargetingForNode:n.bE,setAuctionManager:n.JA,clearAuctionManager:n.Bp,convertToOpenRtbSizes:n.Jo,coerceValueIntoArray:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n=e[t]||i;return n?Array.isArray(n)?n:[n]:[]},getCreativeSize:n.iq,fetcherJSON:n.sh,fetcher:n._i,sort2dSizeArray:n.HN,getGAMID:l,getGPID:n.eL,now:n.zO,timestampToUtc:n.K3,generateShortId:function(e){const t=e||"xxxxxxxxxxxxxxxx";return(0,n.DO)(t)},getRegs:n.de,getUser:n.B4}},533:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AdNode:()=>s});var n=i(63);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return class extends HTMLElement{constructor(){super(...arguments),r(this,"slot",void 0),r(this,"hasToRender",0),r(this,"rendered",0),r(this,"renderCount",0),r(this,"currentlyBidding",!1),r(this,"skipBidding",!1),r(this,"bidResponses",[]),r(this,"gamRetries",-1),r(this,"zeus",{inventoryConfig:{},sspConfig:{},currentSizes:[]}),r(this,"name","nodeComponent"),r(this,"updateCurrentSizesForBreakpoint",(t=>{this.zeus.currentSizes=n.default.getValueForBreakpoint(e,this.zeus.inventoryConfig.sizes,t)||[],this.renderBehavior=0===this.zeus.currentSizes.length?"never":this.zeus.inventoryConfig.renderBehavior})),r(this,"setCurrentSizes",(t=>{e.removeListener("BREAKPOINT_UPDATED",this.updateCurrentSizesForBreakpoint),Array.isArray(t)?this.zeus.currentSizes=t:"object"==typeof t&&(e.on("BREAKPOINT_UPDATED",this.updateCurrentSizesForBreakpoint),this.zeus.currentSizes=n.default.getValueForBreakpoint(e,t,e.breakpoint)||[]),this.renderBehavior=0===this.zeus.currentSizes.length?"never":this.renderBehavior})),r(this,"applyKeyvalueChanges",(t=>{var i;let r=t||"{}";try{r=Object.assign({},JSON.parse(r))}catch(t){return void e.error("[<zeus-ad/>]: Invalid JSON passed to 'data-keyvalues' attribute on ".concat(this.id,". ").concat(t.message),{name:"AdNodeComponent"})}this.targeting={...null===(i=this.zeus.inventoryConfig)||void 0===i?void 0:i.keyvalues,...r},this.slot&&n.default.setTargetings(this.targeting,this.slot),e.emit("NODE_CONFIG_UPDATED",{node:this,config:this.zeusAdConfig})}))}static get observedAttributes(){return["data-keyvalues","data-adunitpath"]}set zeusAdConfig(t){try{if(this.zeus.inventoryConfig=t,this.renderBehavior=null==t?void 0:t.renderBehavior,!t||"object"!=typeof t)return;t.hasOwnProperty("sizes")?(this.setCurrentSizes(t.sizes),this.sizes=t.sizes):(e.warn("sizes object was not found",{name:this.name,node:this}),this.sizes=[],this.setCurrentSizes([])),t.hasOwnProperty("refresh")&&t.refresh.hasOwnProperty("status")&&(this.refresh=t.refresh.status),t.hasOwnProperty("gamRetries")&&(this.gamRetries=t.gamRetries),this.targeting={},"object"==typeof t.keyvalues&&(this.targeting=JSON.parse(JSON.stringify(t.keyvalues))),this.targeting={...this.targeting,...this.keyvalues},this.skipBidding=!0===t.skipBidding,this.type=t.type,e.emit("NODE_CONFIG_UPDATED",{node:this,config:t})}catch(t){e.error("Set NodeConfig Error",{node:this,name:"nodeComponent.zeusAdConfig",err:t})}}get zeusAdConfig(){return{sizes:this.sizes,refresh:{status:this.refresh},type:this.type,skipBidding:this.skipBidding,renderBehavior:this.renderBehavior,keyvalues:this.targeting,gamRetries:this.gamRetries}}get inventoryConfig(){const t=this.getAttribute("data-inventoryConfig");let i=null;if(t)try{if(i=JSON.parse(t),"object"!=typeof i)throw new TypeError("inventoryConfig must be an object. Primitive values are not allowed. Received ".concat(i))}catch(t){i=null,e.warn("Invalid inventoryConfig found",{name:this.name,node:this,err:t})}return i}get configOverride(){let e=this.getAttribute("data-configOverride");return e||(e=this.getAttribute("data-page")),e}get keyvalues(){const t=this.getAttribute("data-keyvalues");if(t)try{const e=JSON.parse(t);if(Array.isArray(e))return Object.assign(...e);if("object"==typeof e)return e;throw new TypeError("keyvalues is incorrect type - Received ".concat(typeof e,"."))}catch(t){e.warn("Invalid keyvalues found on slot",{name:this.name,err:t,node:this})}return{}}get isVideo(){return"video"===this.getAttribute("data-media-type")}get sspConfig(){return this.zeus.sspConfig}set sspConfig(e){this.zeus.sspConfig=e}get adUnitPath(){return this.getAttribute("data-slot")}set adUnitPath(e){this.setAttribute("data-slot",e)}get refresh(){return"true"===this.getAttribute("data-refresh")}set refresh(e){this.setAttribute("data-refresh",e||"true"===e)}get json(){const e=this.getAttribute("data-json");return e?JSON.parse(e):{}}set json(e){this.setAttribute("data-json",JSON.stringify(e))}get targeting(){return this.json.targeting}set targeting(e){const t=this.json;t.targeting=e,this.json=t}get categoryExclusions(){return this.json.categoryExclusions}set categoryExclusions(e){const t=this.json;t.categoryExclusions=e,this.json=t}get renderBehavior(){return this.getAttribute("data-renderbehavior")||"lazy"}set renderBehavior(e){["lazy","always","never"].includes(e)&&(this.setAttribute("data-renderbehavior",e),this.style.display="never"===e?"none":"block"),null==e&&(this.setAttribute("data-renderbehavior","lazy"),this.style.display="block")}connectedCallback(){if(this.isVideo)return e.emit("VIDEO_NODE_CONNECTED",this);t&&(this.adUnitPath=t),this.style.width=this.getAttribute("width"),this.style.margin="auto",this.setAttribute("aria-hidden","true"),this.renderCount=0,e.emit("BEFORE_NODE_CONNECTED",this),e.emit("NODE_CONNECTED",this),e.emit("AFTER_NODE_CONNECTED",this)}disconnectedCallback(){if(this.isVideo)return e.emit("VIDEO_NODE_DISCONNECTED",this);e.emit("NODE_DISCONNECTED",this)}attributeChangedCallback(t,i,n){switch(t){case"data-keyvalues":this.applyKeyvalueChanges(n);break;case"data-adunitpath":e.emit("APPLY_NODE_ADUNITPATH",n,this)}}render(){this.rendered=!1,e.emit("ELEMENT_RENDERED",{element:this,data:null})}rerender(){e.adService.remove(this),e.emit("NODE_CONFIG_UPDATED",{node:this,config:this.zeus.inventoryConfig}),e.adService.setup(this),this.render()}forceRender(){this.render(),this.hasToRender=!0}getBreakpointSize(){return this.zeus.currentSizes}}}},445:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Zeus:()=>m});var n=i(63);const r=(e,t)=>{var i,n,r,s;return!(null==e||null===(i=e.config)||void 0===i||null===(n=i.plugins)||void 0===n||!n.processor)&&"function"==typeof(null===(r=e.plugins)||void 0===r||null===(s=r.processor)||void 0===s?void 0:s[t])},s=(e,t,i,r,s)=>{e.zeusAdConfig=n.default.processConfigForBreakpoint(r,t,s),i&&(e.sspConfig=Object.entries(i).reduce(((e,t)=>{let[i,o]=t;return e[i]=n.default.getValueForBreakpoint(r,o,s||r.breakpoint),e}),{}))},o=e=>{e.on("BEFORE_NODE_CONNECTED",(e=>{e.rendered|=e.hasAttribute("data-manual-render")})),e.on("NODE_CONNECTED",(t=>{const i=((e,t)=>{let i={};try{i=r(t,"processNode")?t.plugins.processor.processNode(e):((e,t,i)=>{let o=((e,t,i)=>{if(r(i,"getInventoryConfig"))return i.plugins.processor.getInventoryConfig(e,t,i);const s=n.default.getNodePos(e.id);let o=t[s]||t[n.default.getNodeKey(s)];const a=e.inventoryConfig;return a&&(o=a),o||null})(e,t.inventory,i);o=((e,t,i)=>{if(r(i,"processInventoryConfig"))return i.plugins.processor.processInventoryConfig(e,t,i);let n=t;return t&&t.hasOwnProperty("configOverrides")&&null!==e.configOverride&&(n={...t,...t.configOverrides[e.configOverride]||{}}),n||null})(e,o,i);let a=((e,t,i)=>{if(r(i,"getSspConfig"))return i.plugins.processor.getSspConfig(e,t,i);const s=n.default.getNodeKey(e.id);return(null==t?void 0:t[e.id])||(null==t?void 0:t[s])||null})(e,t.sspConfig.slots,i);if(a=((e,t,i)=>{if(r(i,"processSspConfig"))return i.plugins.processor.processSspConfig(e,t,i);if(!t||!t.hasOwnProperty("configOverrides"))return t;const n=t.configOverrides[e.configOverride]||{};return{...Object.keys(t).filter((e=>"configOverrides"!==e)).reduce(((e,i)=>(e[i]={...t[i]},e)),{}),...n}})(e,a,i),!o)return{success:!1,error:"Failed to find configuration"};if(!e.rendered&&o.dateFilters&&!n.default.getValidPeriod(Date.now(),o.dateFilters))return{success:!1,error:"Ad spot is closed"};const u=JSON.parse(JSON.stringify(o));return((e,t,i,n)=>{const r=t.hasOwnProperty("breakpointOverrides"),o=Object.values(i||{}).some((e=>Object.keys(e).length&&!e.hasOwnProperty("default")));(r||o)&&n.on("BREAKPOINT_UPDATED",(r=>s(e,t,i,n,r)))})(e,u,a,i),s(e,u,a,i),{success:!0}})(e,t.config,t)}catch(n){t.error("setup node error",{node:e,err:n,name:"processor.setupNode"}),i.error=n.message}return i})(t,e);i.success||((e,t,i)=>{e.warn("".concat(t),{name:"processor",node:i}),i.rendered=!0,i.style.display="none"})(e,i.error,t),e.adNodes.push(t)})),e.on("NODE_DISCONNECTED",(t=>{e.adNodes=e.adNodes.filter((e=>e.id!==t.id)),e.adService.remove(t)}))};var a=i(196);const u=async function(e){e.adService={},e.adService.createSlot=t=>{if(!t.adUnitPath)return;const{size:i,sizeMapping:n}=(0,a.R3)(e,t.sizes);let r;if(window.googletag&&window.googletag.defineSlot&&window.googletag.defineOutOfPageSlot&&(r=void 0!==t.type&&"oop"===t.type?window.googletag.defineOutOfPageSlot(t.adUnitPath,t.id):window.googletag.defineSlot(t.adUnitPath,i,t.id)),r){if(n){const e=(e=>{if(window.googletag&&window.googletag.sizeMapping){const t=window.googletag.sizeMapping();return Object.keys(e).forEach((i=>{t.addSize(JSON.parse(i),e[i])})),t.build()}return null})(n);e&&r.defineSizeMapping(e)}return r.setCollapseEmptyDiv(!0,!t.refresh),r.addService(window.googletag.pubads()),r}},e.adService.setup=t=>{try{var i,r;if(t.slot=t.slot||e.adService.createSlot(t),!t.slot)return;return t.slot.clearTargeting(),t.slot.clearCategoryExclusions(),n.default.setTargetings(t.targeting,t.slot),n.default.setCategoryExclusions(t.categoryExclusions,t.slot),null!==(i=t.zeus)&&void 0!==i&&null!==(r=i.inventoryConfig)&&void 0!==r&&r.safeFrameConfig&&t.slot.setSafeFrameConfig(t.zeus.inventoryConfig.safeFrameConfig),t}catch(i){e.warn("setup failed",{name:"AdService",err:i,node:t})}},e.adService.remove=e=>{const{slot:t}=e;t&&window.googletag&&window.googletag.destroySlots&&window.googletag.cmd&&(window.googletag.cmd.push((()=>window.googletag.destroySlots([t]))),e.slot=void 0)},e.adService.render=e=>{const t=e.map((e=>e.slot));window.googletag&&window.googletag.pubads&&window.googletag.pubads().refresh(t,{changeCorrelator:!1})},e.on("INIT",(function(){const{scriptUrls:t=["//securepubads.g.doubleclick.net/tag/js/gpt.js"]}=e.config;n.default.loadScripts(t),window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((()=>{const{categoryExclusions:t,gdprConsent:i,renderInterval:r=50,general:s}=e.config,{ppid:o,enableVideoAd:a}=s,u=window.googletag.pubads();u.disableInitialLoad(),u.enableSingleRequest(),n.default.setCategoryExclusions(t,u),o&&u.setPublisherProvidedId(o),a&&u.enableVideoAds(),void 0!==i&&u.setRequestNonPersonalizedAds(i?0:1);const d=t=>i=>e.emit(t,function(e){let t;if(e.slot){const i=e.slot.getSlotElementId();t=document.getElementById(i)}return{element:t,data:e}}(i));u.addEventListener("slotRequested",d("SLOT_REQUESTED")),u.addEventListener("slotRenderEnded",d("SLOT_RENDER_ENDED")),u.addEventListener("slotOnload",d("SLOT_ONLOAD")),u.addEventListener("impressionViewable",d("IMPRESSION_VIEWABLE")),window.googletag.enableServices(),e.runRenderCycle(),r&&setInterval(e.runRenderCycle.bind(e),r)}))})),e.on("SLOT_RENDER_ENDED",(t=>{let{element:i,data:r}=t;r.isEmpty&&(n.default.clearAuctionManager(i,e),(-1===i.gamRetries||i.renderCount<=i.gamRetries)&&setTimeout((()=>{i.rendered=!1,i.hasToRender=!0}),3e4)),i&&r.size&&r.size[0]>1&&(i.style.width="".concat(r.size[0],"px"))})),e.on("SLOT_ONLOAD",(t=>{let{element:i}=t;n.default.clearAuctionManager(i,e)})),e.on("CCPA_UPDATED",(e=>{let{data:t}=e;window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({restrictDataProcessing:"Y"===t.uspString[2]})}))})),e.on("NODE_CONFIG_UPDATED",(e=>{let{node:t,config:i}=e;var n;null!=i&&i.safeFrameConfig&&(null===(n=t.slot)||void 0===n||n.setSafeFrameConfig(i.safeFrameConfig))}))};class d{constructor(e){this.zeus=e}collectAndSetString(){return new Promise(((e,t)=>{if(void 0===window.__uspapi||"function"!=typeof window.__uspapi)return t({msg:"IAB __uspapi method does not exist on window."});window.__uspapi("getUSPData",1,((i,n)=>n&&"string"==typeof(null==i?void 0:i.uspString)&&i.uspString.length>=4?(this.zeus.usPrivacy.uspString=i.uspString,console.debug("[Zeus] CCPA string set to ".concat(this.zeus.usPrivacy.uspString)),this.zeus.emit("CCPA_UPDATED",{data:i}),e(i)):t({msg:"__uspapi executed, but returned bad conditions. Success status: ".concat(n," | uspData: ").concat(JSON.stringify(i))})))}))}}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c{constructor(e){l(this,"isUserConsent",(e=>{const{purpose:t={}}=e,{consents:i={}}=t;if(0===Object.keys(i).length)return!1;const n=["1","2","3","4","7"];for(const e of n)if(!i[e])return!1;return!0})),l(this,"tcfListener",((e,t)=>{if(t&&("tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus)){if(!this.zeus.config)return;const t=this.isUserConsent(e);this.zeus.config.gdprApplies=e.gdprApplies?1:0,this.zeus.config.gdprConsent=t,this.zeus.config.gdprConsentString=e.tcString,this.zeus.config.gdprIsServiceSpecific=e.isServiceSpecific,this.zeus.info("[".concat(this.name,"] - GDPR consent data updated"))}})),this.name="TCF API",this.zeus=e,this.init()}init(){try{window.__tcfapi("addEventListener",2,this.tcfListener)}catch(e){this.zeus.warn("[".concat(this.name,"] - TCF not available"))}}}const{isValidKeyValuePair:h,pollForValues:p}=n.default;class f{constructor(e){this.zeus=e,this.compiledKeyvalues={zeus:"applied"},h(window.zeusCustomKVPair)&&this.addKeyvalues(window.zeusCustomKVPair),this.zeus.on("ADD_KEYVALUES",(e=>{this.addKeyvalues(e)})),this.zeus.on("KVS_FETCHED",(e=>{this.addKeyvalues(Object.assign(...e))})),this.zeus.on("INIT",(()=>{this.addKeyvalues({}),this.collectCustomerKeyvalues()})),this.zeus.on("RESET_KEYVALUES",(()=>this.collectCustomerKeyvalues()))}addKeyvalues(e){try{Array.isArray(e)?Object.assign(this.compiledKeyvalues,...e.filter((e=>!!e&&"object"==typeof e))):Object.assign(this.compiledKeyvalues,e),function(e){window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((()=>{const t=window.googletag.pubads();n.default.setTargetings(e,t)}))}(this.compiledKeyvalues)}catch(e){this.zeus.warn("Error on adding keyvalues",{name:"kvApplicator",err:e})}}collectCustomerKeyvalues(){return p((()=>h(window.zeusKeyvalues)?window.zeusKeyvalues:null),3e3,100).then((e=>this.addKeyvalues(Object.assign({},e)))).catch((e=>{window.hasOwnProperty("zeusKeyvalues")&&this.zeus.warn("Unexpected error in pulling customer keyvalues from the window",{name:"keyValueApplicator",err:e})}))}}const g=i(538);class m extends g{constructor(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,s,a;super(),t=this,s=()=>{this.breakpoint=n.default.getViewportSize(this),this.emit("BREAKPOINT_UPDATED",this.breakpoint)},(r="onWindowResize")in this?Object.defineProperty(this,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[r]=s,Object.assign(this,{cmd:i.cmd}),this.name="zeus",this.config=e,this.breakpoint=n.default.getViewportSize(this),this.general=n.default.processConfigForBreakpoint(this,e.general),this.plugins={},this.ssps=[],this.usPrivacy={uspString:void 0},this.auctionManager={},this.adNodes=[],this.executionStart=0,this.commitHash="64173a4e0d067f5e2c55320c9ce56441ef03372b",this.version="3.1.0",this.debug=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.emit("DEBUG",...i)},this.info=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.emit("INFO",...i)},this.warn=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.emit("WARN",...i)},this.error=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.emit("ERROR",...i)},this.timer=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.emit("TIMER",...i)},o(a=this),u(a),function(e){e.ccpa=new d(e)}(a),function(e){e.tcf=new c(e)}(a),this.executeQueue(),this.kvApplicator=new f(this),this.on("INIT",(()=>{this.executionStart=n.default.now()})),window.addEventListener("resize",this.onWindowResize),n.default.watchForBreakpointUpdates(this,this.config.general||{},(e=>{this.general=e}))}getKeyvalues(){return this.kvApplicator.compiledKeyvalues}writeCreative(e,t){if(e&&t){const i=this.auctionManager[t];e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=i.width,e.defaultView.frameElement.height=i.height),i.hasOwnProperty("node")&&(i.node.style.width="".concat(i.width,"px")),e.open(),e.write(i.creative),e.close()}}setCustomKeyValue(e){n.default.isValidKeyValuePair(e)&&this.emit("ADD_KEYVALUES",e)}checkRenderStatus(e){if("never"===e.renderBehavior)return!1;if("always"===e.renderBehavior)return!0;let{refreshBuffer:t,initBuffer:i}=this.general;const{refreshBuffer:r,initBuffer:s}=e.zeus.inventoryConfig;"number"==typeof s&&(i=s),"number"==typeof r&&(t=r);const o=e.renderCount?t:i;return n.default.isElementCloseToViewport(e,o||0)}prepareRender(){return this.adNodes.filter((e=>{if(!e.rendered&&!e.currentlyBidding)return e.hasToRender=e.hasToRender||this.checkRenderStatus(e),e.hasToRender&&this.adService.setup(e)})).map((e=>Object.assign(e,{currentlyBidding:!0})))}async bid(e){return await this.ccpa.collectAndSetString().catch((e=>{this.warn("CCPA string not set",{name:this.name,err:null==e?void 0:e.msg})})),Promise.all(this.filterSlotSkipBidding(e))}filterSlotSkipBidding(e){const t=[];for(const i of this.ssps){const n=e.filter((e=>{var t;return!(null===(t=((null==e?void 0:e.sspConfig)||{})[i.name])||void 0===t?void 0:t.skipBidding)}));n.length>0&&t.push(i.bid(n).catch((e=>e)))}return t}render(e){try{this.info("Render the following adNodes:",e),this.adService.render(e)}catch(t){this.warn("render error",{name:this.name,err:t,elements:e})}}afterRender(e){e.forEach((e=>Object.assign(e,{rendered:!0,hasToRender:!1,renderCount:(null==e?void 0:e.renderCount)+1,currentlyBidding:!1})))}async runRenderCycle(){try{const e=this.prepareRender();if(null==e||!e.length)return;this.emit("SLOTS_WILL_RENDER",{elements:e});const t=e.filter((e=>!e.skipBidding));if(t.length){const e=await this.bid(t);this.emit("BID_COMPLETED",{elements:t,data:e})}this.emit("SLOT_RENDER",{elements:e}),this.render(e),this.afterRender(e),this.emit("AFTER_SLOT_RENDER",{elements:e})}catch(e){this.error("render cycle failed",{name:this.name,err:e})}}reload(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.kvApplicator.collectCustomerKeyvalues(),!0===e&&this.adNodes.forEach((e=>{e.renderCount=0,e.rerender()}))}createQueue(){this.cmd=[],this.cmd.push=e=>{this._executeCmd(e)}}executeQueue(){const{cmd:e}=this;if("false"!==n.default.urlCheck(window.location.href,"zeusCmd","variable"))if("object"==typeof e&&0!==Object.keys(e).length){for(const t of e)this._executeCmd(t);this.createQueue()}else this.createQueue();else this.warn("command queue disabled")}_executeCmd(e){try{if("function"!=typeof e)throw new Error("command must be function");e(this),this.info("cmd executed:\n".concat(e.toString()))}catch(t){this.error("cmd executed failed",{name:e?e.toString():e,err:t})}}}},196:(e,t,i)=>{"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=e();return null!==n?Promise.resolve(n):new Promise((function(n,r){var s,o;o=setInterval((function(){var t=e();null!==t&&(clearTimeout(s),clearInterval(o),n(t))}),i),s=setTimeout((function(){clearInterval(o),r("Timeout waiting for values")}),t)}))}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i.d(t,{Bp:()=>C,R3:()=>U,Jo:()=>O,tr:()=>x,Yq:()=>z,H_:()=>E,_i:()=>Q,sh:()=>X,DO:()=>ie,iq:()=>re,eL:()=>j,f2:()=>M,Om:()=>ne,de:()=>R,B4:()=>D,rd:()=>g,S3:()=>c,gv:()=>te,ve:()=>V,zO:()=>$,_b:()=>n,M_:()=>m,JA:()=>A,bE:()=>k,f3:()=>I,HN:()=>se,fg:()=>S,K3:()=>ee,DG:()=>v});var u=["xs","sm","md","lg","xl"],d={xs:0,sm:540,md:720,lg:960,xl:1140};function l(e){var t;return(null==e||null===(t=e.config)||void 0===t?void 0:t.breakpoints)||d}function c(e){var t=window.innerWidth,i=u.find((function(i){return f(e,{currentWidth:t},i)}));return{currentWidth:t,breakpoint:i}}function h(e,t){var i,n,r=l(e),s=(i=t.split("-"),n=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,s=[],o=!0,a=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(a)throw r}}return s}}(i,n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=s[0],d=s[1],c=isNaN(o)?r[o]:parseInt(o,10),h=isNaN(d)?r[d]:parseInt(d,10);return"up"===o?(c=h,h=1/0):"down"===o&&(isNaN(d)&&(h=function(e,t){var i=u.indexOf(e),n=i<u.length-1?u[i+1]:1/0;return t[n]||n}(d,r)),c=0),{lower:c,upper:h}}function p(e,t){if(t.includes("-"))return h(e,t);var i=l(e),n=i[t],r=u.indexOf(t),s="xl"===t?1/0:u[r+1];return{lower:n,upper:i[s]||s}}function f(e,t,i){var n=p(e,i),r=n.upper,s=n.lower,o=l(e),a=void 0===t.currentWidth?o[t.breakpoint]:t.currentWidth;return s<=a&&a<r}function g(e,t,i){var n=Object.keys(t).find((function(t){return f(e,i,t)})),r=t.hasOwnProperty("default")?t.default:null;return t[n]||r}function m(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"breakpointOverrides",r=i||e.breakpoint,o={};return null!=t&&t.hasOwnProperty(n)&&(o=g(e,null==t?void 0:t[n],r)||{}),s(s({},t||{}),o)}function v(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"breakpointOverrides";null!=t&&t.hasOwnProperty(n)&&e.on("BREAKPOINT_UPDATED",(function(r){i(m(e,t,r,n))}))}function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){w(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function x(e){if(!e)return"";var t=encodeURI(e);return'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'.concat(t,'"></div>')}function z(e){if(!e)return"";try{var t=encodeURI(e);return'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><iframe id="escapedUrlFrame" src="'.concat(t,'" scrolling="no" frameborder="0" width="1" height="1"></iframe></div>')}catch(t){return console.error("Cannot encode URI ".concat(e),t),""}}function S(e,t){return{success:!0,nodes:t,msg:"successfully received ".concat(e," data"),ssp:e,timestamp:$()}}function E(e,t,i){return{success:!1,nodes:t,msg:i||"fetch ".concat(e," data failure"),ssp:e,timestamp:$()}}function I(e,t){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n=Array.isArray(n)?n.map((function(e){return"".concat(e)})):"".concat(n),t.setTargeting(i,n)}}function A(e){var t=e.auctionId,i=e.sspName,n=e.node,r=e.creativeCode,s=e.price,o=e.height,a=e.width,u=e.error,d=e.impId;if(t&&d&&null!=n&&n.bidResponses)return window.zeus.auctionManager[d]={auctionId:t,creative:r,sspName:i,price:s,height:o,width:a,node:n,error:u,responseTimestamp:$()},n.bidResponses.push(d)}function C(e,t){if(Array.isArray(null==e?void 0:e.bidResponses)){var i,n=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return _(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw s}}}}(e.bidResponses);try{for(n.s();!(i=n.n()).done;){var r,s=i.value;null==t||null===(r=t.auctionManager)||void 0===r||delete r[s]}}catch(e){n.e(e)}finally{n.f()}e.bidResponses.length=0}}function k(e){var t=e.node,i=e.targeting,n=void 0===i?{}:i,r=e.sspName,s=e.price,o=e.impId,a=function(e){for(var t=[],i=0,n=["node","sspName","auctionId","creativeCode","width","height","price","impId"];i<n.length;i++){var r=n[i];void 0!==e[r]&&null!==e[r]||t.push(r)}return t.length&&t[0]}(e);if(a)throw new Error("missing target parameter ".concat(a));if(function(e,t){var i,n,r,s,o;if(!(null==e||null===(i=e.zeus)||void 0===i||null===(n=i.inventoryConfig)||void 0===n||null===(r=n.refresh)||void 0===r?void 0:r.fixAdHeight))return!1;var a=null==e||null===(s=e.zeus)||void 0===s?void 0:s.currentSizes;if((null==a?void 0:a.length)>1)return!1;var u=null==e||null===(o=e.refreshBehavior)||void 0===o?void 0:o.creativeSize;return Boolean(u&&(u[0]!=t.width||u[1]!=t.height))}(t,e))throw new Error("mismatch creative size");var u,d=(u=100*s)<=500?Math.round(u/1):u>500&&u<=2e3?5*Math.round(u/5):u>2e3&&u<5e3?50*Math.round(u/50):5e3;return n["zeus_".concat(r)]=d,n["zeus_auctionid_".concat(r)]=o,I(n,t.slot),A(e)}function O(e){return e.reduce((function(e,t){var i="fluid"===t?{w:1,h:1}:{w:t[0],h:t[1]};return e.push(i),e}),[])}function P(e){return e?{eids:[{source:"liveramp.com",uids:[{id:e}]}]}:{}}function T(e,t){return t?{gdpr:e,consent:t}:{}}function R(e){var t=e.gdprApplies,i=e.gdprConsentString,n=e.usPrivacy;return i||n?{regs:{ext:y(y({},N(n)),T(t,i))}}:{}}function N(e){return e?{us_privacy:e}:{}}function D(e){var t=e.uid,i=e.gdprApplies,n=e.gdprConsentString,r=!n;if(!t&&r)return{};var s=r?{}:T(i,n);return{user:{ext:y(y({},P(t)),s)}}}function j(e){var t=e.gamId,i=e.node.id;return isNaN(t)?{}:{gpid:"".concat(t,"/").concat(i)}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}var U=function(e,t){var i=function(e){if(Array.isArray(e))return e;if("object"===L(e)){var t=new Set;return Object.values(e).forEach((function(e){Array.isArray(e)&&e.forEach((function(e){Array.isArray(e)?t.add("[".concat(e,"]")):t.add(e)}))})),Array.from(t).map((function(e){return"fluid"===e?"fluid":JSON.parse(e)}))}}(t),n=function(e,t){if(!Array.isArray(t)&&t)return Object.entries(t).reduce((function(t,i){var n,r,s=(r=2,function(e){if(Array.isArray(e))return e}(n=i)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,s=[],o=!0,a=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(a)throw r}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?B(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=s[0],a=s[1],u=p(e,o),d=u.lower,l=u.upper;return t["[".concat(d,",0]")]=a,l===1/0||t["[".concat(l,",0]")]||(t["[".concat(l,",0]")]=[]),t}),{"[0,0]":[]})}(e,t);return{size:i,sizeMapping:n}};function V(e){var t=e.script,i=e.node,n=e.onload,r=e.onerror,s=i||M(),o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,n&&(o.onload=n),r&&(o.onerror=r),s.appendChild(o)}function M(){var e,t,i,n;return(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.head)||(null===(i=window)||void 0===i||null===(n=i.document)||void 0===n?void 0:n.getElementsByTagName("head")[0])}var F=i(230),K=i.n(F);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}var q=["useXHR","timeout"];function G(){G=function(){return e};var e={},t=Object.prototype,i=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function a(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,i){return e[t]=i}}function u(e,t,i,n){var r=t&&t.prototype instanceof c?t:c,s=Object.create(r.prototype),o=new z(n||[]);return s._invoke=function(e,t,i){var n="suspendedStart";return function(r,s){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw s;return{value:void 0,done:!0}}for(i.method=r,i.arg=s;;){var o=i.delegate;if(o){var a=w(o,i);if(a){if(a===l)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var u=d(e,t,i);if("normal"===u.type){if(n=i.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(n="completed",i.method="throw",i.arg=u.arg)}}}(e,i,o),s}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function c(){}function h(){}function p(){}var f={};a(f,r,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&i.call(m,r)&&(f=m);var v=p.prototype=c.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function n(r,s,o,a){var u=d(e[r],e,s);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==W(c)&&i.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):t.resolve(c).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,a)}))}a(u.arg)}var r;this._invoke=function(e,i){function s(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(s,s):s()}}function w(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=d(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,a(v,"constructor",p),a(p,"constructor",h),h.displayName=a(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),a(y.prototype,s,(function(){return this})),e.AsyncIterator=y,e.async=function(t,i,n,r,s){void 0===s&&(s=Promise);var o=new y(u(t,i,n,r),s);return e.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(v),a(v,o,"Generator"),a(v,r,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=S,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(i,n){return o.type="throw",o.arg=e,t.next=i,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var a=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),x(i),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;x(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:S(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),l}},e}function H(e,t,i,n,r,s,o){try{var a=e[s](o),u=a.value}catch(e){return void i(e)}a.done?t(u):Promise.resolve(u).then(n,r)}i(757);var J,Y,Q=function(e,t){var i,n=t.useXHR,r=t.timeout,s=function(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}(t,q),o=n?Z:K();return Promise.race([(i=o(e,s),i.then((function(e){return e.ok?Promise.resolve(e):Promise.reject(e)}))),new Promise((function(e,t){r&&setTimeout((function(){t(new Error("TIMEOUT"))}),r)}))])},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.method,n=t.headers,r=void 0===n?{}:n,s=t.body,o=t.withCredentials;return new Promise((function(t,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){var e=a.status;e>=200&&e<300||304===e?t({xhttp:a,ok:!0}):n(a)}},a.open(i,e,!0),a.withCredentials=void 0===o||o,r["Content-Type"]||(r["Content-Type"]="text/plain"),Object.keys(r).forEach((function(e){a.setRequestHeader(e,r[e])})),s?a.send(s):a.send()}))},X=(J=G().mark((function e(t,i){var n,r;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(t,i);case 3:if(n=e.sent,null==i||!i.useXHR){e.next=8;break}e.t0=JSON.parse(n.xhttp.response),e.next=11;break;case 8:return e.next=10,n.json();case 10:e.t0=e.sent;case 11:if(r=e.t0){e.next=14;break}throw new Error("Empty Response");case 14:return e.abrupt("return",r);case 17:if(e.prev=17,e.t1=e.catch(0),!(e.t1 instanceof SyntaxError)){e.next=21;break}throw new Error("Failed to parse payload");case 21:if("number"!=typeof e.t1.status){e.next=23;break}throw new Error("".concat(e.t1.status," [").concat(e.t1.statusText,"]"));case 23:throw e.t1;case 24:case"end":return e.stop()}}),e,null,[[0,17]])})),Y=function(){var e=this,t=arguments;return new Promise((function(i,n){var r=J.apply(e,t);function s(e){H(r,i,n,s,o,"next",e)}function o(e){H(r,i,n,s,o,"throw",e)}s(void 0)}))},function(e,t){return Y.apply(this,arguments)});function $(){return Math.floor(performance.now())}function ee(e){return Math.floor(e+(Date.now()-$()))}function te(e,t){try{var i=e.getBoundingClientRect();if(i.width>0||i.height>0&&"hidden"!=e.style.visibility){var n=window.innerHeight||document.documentElement.clientHeight;return i.top>=0-t&&i.top<=n+t}return!1}catch(e){return console.warn("Error getting element viewport"),!1}}function ie(e){var t=e||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",i=(new Date).getTime();return t.replace(/[xy]/g,(function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)}))}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zeus_",i=new RegExp("^".concat(t),"gm");return e.replace(i,"")}function re(e){var t=e.firstElementChild;return t?[t.offsetWidth,t.offsetHeight]:null}function se(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]<t[0]?-1:1}},135:(e,t,i)=>{var n={"./wapo/keyvalues/index.js":914};function r(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=135},778:(e,t,i)=>{var n={"./advadrefresher":392,"./advadrefresher/":392,"./advadrefresher/index":392,"./advadrefresher/index.js":392,"./catchpoint":270,"./catchpoint/":270,"./catchpoint/index":270,"./catchpoint/index.js":270,"./dat":934,"./dat/":934,"./dat/index":934,"./dat/index.js":934,"./dfpnode":484,"./dfpnode/":484,"./dfpnode/index":484,"./dfpnode/index.js":484,"./gdpr":768,"./gdpr/":768,"./gdpr/index":768,"./gdpr/index.js":768,"./inlineads":801,"./inlineads/":801,"./inlineads/index":801,"./inlineads/index.js":801,"./kruxwrapper":752,"./kruxwrapper/":752,"./kruxwrapper/index":752,"./kruxwrapper/index.js":752,"./logger":953,"./logger/":953,"./logger/index":953,"./logger/index.js":953,"./malwareblocker":293,"./malwareblocker/":293,"./malwareblocker/index":293,"./malwareblocker/index.js":293,"./metricsv2":539,"./metricsv2/":539,"./metricsv2/index":539,"./metricsv2/index.js":539,"./metricsv2/utils":298,"./metricsv2/utils.js":298,"./processor":964,"./processor/":964,"./processor/index":964,"./processor/index.js":964,"./rendercount":394,"./rendercount/":394,"./rendercount/index":394,"./rendercount/index.js":394,"./slotweightkv":502,"./slotweightkv/":502,"./slotweightkv/index":502,"./slotweightkv/index.js":502,"./urlparams":924,"./urlparams/":924,"./urlparams/index":924,"./urlparams/index.js":924,"./usp":668,"./usp/":668,"./usp/index":668,"./usp/index.js":668,"./zeusAudience":932,"./zeusAudience/":932,"./zeusAudience/index":932,"./zeusAudience/index.js":932,"./zeusPrime":503,"./zeusPrime/":503,"./zeusPrime/ZeusPrime":593,"./zeusPrime/ZeusPrime.js":593,"./zeusPrime/index":503,"./zeusPrime/index.js":503,"./zeusslotkvs":598,"./zeusslotkvs/":598,"./zeusslotkvs/index":598,"./zeusslotkvs/index.js":598},r={270:9,293:9,298:9,392:9,394:9,484:9,502:9,503:7,539:9,593:9,598:9,668:9,752:9,768:9,801:9,924:9,932:9,934:9,953:9,964:9};function s(e){return o(e).then((e=>i.t(e,16|r[e])))}function o(e){return Promise.resolve().then((()=>{if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}))}s.keys=()=>Object.keys(n),s.resolve=o,s.id=778,e.exports=s},787:(e,t,i)=>{var n={"./a9":227,"./a9/":227,"./a9/index":227,"./a9/index.js":227,"./appNexus":523,"./appNexus/":523,"./appNexus/index":523,"./appNexus/index.js":523,"./criteo":595,"./criteo/":595,"./criteo/index":595,"./criteo/index.js":595,"./ias":995,"./ias/":995,"./ias/index":995,"./ias/index.js":995,"./indexExchange":204,"./indexExchange/":204,"./indexExchange/index":204,"./indexExchange/index.js":204,"./openx":589,"./openx/":589,"./openx/index":589,"./openx/index.js":589,"./pubmatic":275,"./pubmatic/":275,"./pubmatic/index":275,"./pubmatic/index.js":275,"./rubicon":772,"./rubicon/":772,"./rubicon/index":772,"./rubicon/index.js":772,"./trustx":501,"./trustx/":501,"./trustx/index":501,"./trustx/index.js":501};function r(e){return s(e).then(i)}function s(e){return Promise.resolve().then((()=>{if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}))}r.keys=()=>Object.keys(n),r.resolve=s,r.id=787,e.exports=r}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return i[e].call(s.exports,s,s.exports,r),s.exports}r.amdD=function(){throw new Error("define cannot be used indirect")},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"==typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"==typeof i.then)return i}var s=Object.create(null);r.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>i[e]));return o.default=()=>i,r.d(s,o),s},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.e=()=>Promise.resolve(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t,i=r(63);const{createZeusAdCss:n}=i.default,s={customer:"wapo",configVersion:141,general:{bidTimeout:1e3,breakpointOverrides:{"down-sm":{initBuffer:800,refreshBuffer:100}},initBuffer:200,refreshBuffer:200,slotPrefix:"slug_",tagName:"wp-ad"},breakpoints:{xs:0,sm:480,md:767,lg:990,xl:991},plugins:{advadrefresher:{pauseAdOffFocus:!0},catchpoint:{},gdpr:{},kruxwrapper:{kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{logLevel:0},metricsv2:{apiHost:"https://metrics.zeustechnology.com",bucketSize:1,debounceTime:3e4,maxDebounceDuration:3e4,enablePerformanceObserver:!0,logLevels:["error"]},rendercount:{},zeusPrime:{v2ApiChance:1},zeusslotkvs:{configOverride:!1,renderType:!0,deviceType:!1,test:{variant:"a"}},dat:{},dfpnode:{dfpId:"701"},inlineads:{mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},malwareblocker:{},processor:{},slotweightkv:{},urlparams:{},usp:{uspDefault:"1NYY"},zeusAudience:{url:"https://audience.zeustechnology.com"}},keyValues:{customKeyvalues:!0,exclusionsKeyWords:{natural_disaster:["deepwater","oil spill","shell","exxon","citgo","bp","chevron","hess","sunoco","disaster","fire","explosion","oil","coal","death","dead","quake","earthquake","tsunami","tornado","hurricane","flood","bed bug","infestation","gas","tropical storm","Irma","Harvey"],human_disaster:["nazi","coronavirus","abortion","kobe","shot","fatal","fatally","homicide","blood","kill","accident","Weinstein","massacre","oreilly","Ailes","o'reilly","fox news","abuse","death","trafficking","dead","gunshot","murderer","porn","sex tape","sexting","sexual abuse","molestation","assault","child abuse","sex abuse","ISIS","ISIL","Islamic State","Al Qaeda","Syria","Syrian","Assad","shooter","shooting","migrants","aylan kurdi","refugee crisis","drown","shoot","vatican","spanair","aground","rescue","attack","disaster","explosion","war","hostage","terror","terrorist","bomb","blast","mining","miner","violence","riot","crash","9/11","sept. 11","september 11","behead","United 93","pistorius","ebola","rape","rapist","amtrak","derailment","benghazi","misconduct","illegal downloads","illegal drugs","hate speech","offensive language","bullying","epstein","chauvin","miami condo collapse","death toll","building collapse","tower collapse","Taliban","incursion","invasion","sactions"],business_disaster:["work stoppage","workers' strike","plant closures","embezzlement","embezzling","money laundering","corrupt","lawsuit","goldman","aig","foreclosure","enron","sec","mortgage","Insurance","health","bank","wall street","protest","labor strike","union strike","labor issue","union issue","teacher strike","teachers strike","election","fraud","scam","chase"],inappropriate:["porn","cunt","pussy","fuck","deepwater","gambling","sex","alcohol","pornography"]}},inventory:{interstitial:{type:"oop",skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{xs:[[1,1]]}},desktop_interstitial:{type:"oop",skipBidding:!0,gamRetries:0,sizes:{"up-xs":[[1,1]]}},leaderboard:{keyvalues:{pos:"leaderboard"},refresh:{fixAdHeightSize:[970,250],status:!0,exception:["washingtonpost.com","washingtonpost.com/regional","washingtonpost.com/test","homepage","homepage/test","climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{md:[[1,1],[2,1],[728,90],"fluid"],"up-lg":[[970,250],[728,90],[970,66],[1,1],[2,1],"fluid"]},configOverrides:{"washington-post-live/climate-solutions":{dateFilters:[{start:"March 10 2020",end:"March 10 2020"}]}}},leaderboard_1:{refresh:{status:!0,exception:["washingtonpost.com","washingtonpost.com/regional","washingtonpost.com/test","homepage","homepage/test","climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{md:[[1,1],[2,1],[728,90],"fluid"],"up-lg":[[1,1],[2,1],[970,250],"fluid"]}},"leaderboard_*":{refresh:{status:!0,exception:["washingtonpost.com","washingtonpost.com/regional","washingtonpost.com/test","homepage","homepage/test","climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{md:[[1,1],[2,1],[728,90],"fluid"],"up-lg":[[1,1],[2,1],[728,90],[970,66],[970,250],"fluid"]}},header_logo:{skipBidding:!0,gamRetries:0,sizes:{"up-xs":[[2,1],[1,2],[1,1]]}},banner_top:{skipBidding:!0,gamRetries:0,sizes:{"up-xs":[[2,1],[1,1]]}},inline_bb:{refresh:{status:!0},sizes:{sm:[[1,1],[2,1],[1,7],[300,250],"fluid"],"up-md":[[1,1],[2,1],[1,7],[300,250],[620,250],"fluid"]}},"inline_bb_*":{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{sm:[[1,1],[2,1],[1,7],[300,250],"fluid"],"up-md":[[1,1],[2,1],[1,7],[300,250],[620,250],"fluid"]}},flex_ss_bb_hp:{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"up-md":[[300,1050],[160,600],[300,600],[300,250],[2,1]]}},flex_ss_bb_hp_2:{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"up-md":[[300,1050],[160,600],[300,600],[300,250],[2,1]]}},flex_ss_bb_hp_4:{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"up-md":[[300,1050],[160,600],[300,600],[300,250],[2,1]]}},"flex_ss_bb_hp_*":{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"up-md":[[300,1050],[160,600],[300,600],[300,250],[2,1]]}},flex_bb_hp:{refresh:{status:!0},sizes:{"up-md":[[300,1050],[300,600],[300,250],[2,1]]}},flex_bb_hp_sm:{refresh:{status:!0},sizes:{"up-md":[[2,1],[160,600],[300,600],[300,250]]}},flex_hp:{refresh:{status:!0},sizes:{"up-md":[[2,1],[300,600]]}},tiffany_tile:{keyvalues:{ad:"tiffany_tile"},skipBidding:!0,gamRetries:0,sizes:{"up-sm":[[2,1],[200,60],[184,90]]}},"tiffany_tile_*":{skipBidding:!0,gamRetries:0,sizes:{"up-sm":[[2,1],[200,60],[184,90]]}},brandconnect_front:{skipBidding:!0,gamRetries:0,sizes:{"up-xs":[[1,1],[2,1],[1,8],"fluid"]}},brandconnect_magnet:{skipBidding:!0,gamRetries:0,sizes:{"up-xs":[[1,1],[2,1],[1,8]]}},bc_pb_homepage:{skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{"up-xs":[[1,1],[2,1],[1,8],"fluid"]}},bc_pb_regional:{skipBidding:!0,gamRetries:0,sizes:{"up-xs":[[1,1],[2,1],[1,8],"fluid"]}},"336x60":{keyvalues:{ad:"336x60"},skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{"up-xs":[[336,60],[2,1]]}},"336x35_top":{keyvalues:{ad:"336x35"},skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{"up-xs":[[336,35],[2,1]]}},marketing_2:{skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{"up-xs":[[2,1],[1,1]]}},marketwatch:{skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{"up-xs":[[2,1],[1,1]]}},twittermodule:{skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{"up-xs":[[2,1],[1,1]]}},"88x31":{skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{"up-xs":[[2,1],[88,31]]}},bigbox:{refresh:{status:!0,exception:["washingtonpost.com","washingtonpost.com/test","homepage","homepage/test"]},sizes:{"up-xs":[[1,1],[2,1],[1,7],[300,250],"fluid"]}},"bigbox_*":{refresh:{status:!0,exception:["washingtonpost.com","washingtonpost.com/test","homepage","homepage/test"]},sizes:{"up-xs":[[1,1],[2,1],[1,7],[300,250],"fluid"]}},bigbox_stay:{refresh:{status:!0},sizes:{"up-xs":[[1,1],[2,1],[300,250],"fluid"]}},bigbox_eat:{refresh:{status:!0},sizes:{"up-xs":[[1,1],[2,1],[300,250],"fluid"]}},bigbox_do:{refresh:{status:!0},sizes:{"up-xs":[[1,1],[2,1],[300,250],"fluid"]}},bigbox_gallery:{sizes:{"up-xs":[[1,1],[2,1],[300,250]]}},bs_btw:{skipBidding:!0,gamRetries:0,sizes:{"up-xs":[[2,1],[1,1],"fluid"]}},bs_card_front:{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},skipBidding:!0,gamRetries:0,sizes:{"up-xs":[[2,1],[1,1],"fluid"]}},"bs_card_front_*":{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},skipBidding:!0,gamRetries:0,sizes:{"up-xs":[[2,1],[1,1],"fluid"]}},enterprise:{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"down-sm":[[2,1],[1,1],[300,250],"fluid"],md:[[1,1],[2,1],[300,250],[620,250],[728,90]],"up-lg":[[1,1],[2,1],[300,250],[620,250],[728,90],[970,250],"fluid"]}},"enterprise_*":{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"down-sm":[[1,1],[2,1],[1,7],[300,250],"fluid"],md:[[1,1],[2,1],[300,250],[620,250],[728,90]],"up-lg":[[1,1],[2,1],[300,250],[620,250],[728,90],[970,250],"fluid"]}},mob_enterprise:{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{xs:[[300,600]],sm:[[2,1],[1,1],[300,250],[300,600],"fluid"]}},"mob_enterprise_*":{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"down-sm":[[2,1],[1,1],[300,250],"fluid"]}},mob_bigbox:{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"down-sm":[[300,600]]}},"mob_bigbox_*":{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"down-sm":[[300,250],[1,1]]}},fixedBottom:{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"down-sm":[[2,1],[320,50],[300,50]]}},bc_bigbox:{skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{"up-xs":[[1,1],[2,1],[300,250]]}},graphic_inline:{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"up-sm":[[1,1],[300,250],[300,600],"fluid"]}},"graphic_inline_*":{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"up-sm":[[1,1],[300,250],[300,600],"fluid"]}},mob_graphic_inline:{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"down-sm":[[1,1],[300,250],[300,600]]}},"mob_graphic_inline_*":{refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},sizes:{"down-sm":[[1,1],[300,250],[300,600]]}},mob_lb:{refresh:{status:!0},sizes:{"down-sm":[[2,1],[300,50],[320,50],"fluid"]}},"mob_lb_*":{refresh:{status:!0},sizes:{"down-sm":[[2,1],[300,50],[320,50],"fluid"]}},howtovote:{skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{"up-xs":[[1,1],[320,105],"fluid"]}},"seven-briefs-logo":{skipBidding:!0,gamRetries:0,refresh:{status:!0},sizes:{"up-xs":[[1,1],[320,105],"fluid"]}}},sspConfig:{bidders:{a9:{id:"3041"},appNexus:{adTypes:["banner"]},criteo:{id:1180},ias:{id:"8221"},indexExchange:{script:"//js-sec.indexww.com/ht/p/183960-49969200693724.js"},openx:{domain:"//washingtonpost-d.openx.net/w/1.0/arj"},pubmatic:{publisherId:"161044"},rubicon:{accountId:12890,siteId:{xs:254660,"up-sm":254660},tkFlint:"wp"},trustx:{}},slots:{slug_leaderboard:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:540038581}},apnx:{default:{id:25100675}},trustx:{default:{auid:7201}},pubmatic:{default:{tagid:"Wapo_zeus_slug_leaderboard"}}},slug_leaderboard_1:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004067}},apnx:{default:{id:25100678}},trustx:{default:{auid:15125}},pubmatic:{default:{tagid:"Wapo_zeus_slug_leaderboard_1"}}},slug_leaderboard_2:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004068}},apnx:{default:{id:25266080}},trustx:{default:{auid:15126}},pubmatic:{default:{tagid:"Wapo_zeus_slug_leaderboard"}}},slug_leaderboard_3:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004069}},apnx:{default:{id:25266081}},trustx:{default:{auid:15127}},pubmatic:{default:{tagid:"Wapo_zeus_slug_leaderboard"}}},slug_leaderboard_4:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004070}},apnx:{default:{id:25266082}},trustx:{default:{auid:15128}},pubmatic:{default:{tagid:"Wapo_zeus_slug_leaderboard"}}},slug_mob_lb:{openx:{default:{id:541079788}},apnx:{default:{id:25100727}},trustx:{default:{auid:7232}},rubicon:{default:{zoneId:1953634}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_lb"}}},slug_inline_bb:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038591}},apnx:{default:{id:25100687}},trustx:{default:{auid:7202}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_2:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038592}},apnx:{default:{id:25266083}},trustx:{default:{auid:7203}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_3:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038593}},apnx:{default:{id:25266084}},trustx:{default:{auid:7204}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_4:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038594}},apnx:{default:{id:25266085}},trustx:{default:{auid:7205}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_5:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205943}},apnx:{default:{id:25266086}},trustx:{default:{auid:7206}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_6:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205990}},apnx:{default:{id:25266096}},trustx:{default:{auid:7207}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_7:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205946}},apnx:{default:{id:25266100}},trustx:{default:{auid:7208}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_8:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205945}},apnx:{default:{id:25266101}},trustx:{default:{auid:7209}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_bigbox:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004075}},apnx:{default:{id:25100700}},trustx:{default:{auid:7214}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_2:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004077}},apnx:{default:{id:25266104}},trustx:{default:{auid:7215}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_3:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004078}},apnx:{default:{id:25266109}},trustx:{default:{auid:7216}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_4:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004079}},apnx:{default:{id:25266115}},trustx:{default:{auid:7217}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_5:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004080}},apnx:{default:{id:25266121}},trustx:{default:{auid:15130}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_6:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004081}},apnx:{default:{id:25266127}},trustx:{default:{auid:15131}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_7:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004082}},apnx:{default:{id:25266132}},trustx:{default:{auid:15132}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_8:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004083}},apnx:{default:{id:25266136}},trustx:{default:{auid:15133}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_gallery:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:540038599}},apnx:{default:{id:25100706}},trustx:{default:{auid:7218}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox_gallery"}}},slug_enterprise:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038600}},apnx:{default:{id:25100712}},trustx:{default:{auid:7219}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_2:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038601}},apnx:{default:{id:25266143}},trustx:{default:{auid:7220}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_3:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038602}},apnx:{default:{id:25266148}},trustx:{default:{auid:7221}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_4:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038603}},apnx:{default:{id:25266154}},trustx:{default:{auid:7222}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_5:{rubicon:{default:{zoneId:1744616}},apnx:{default:{id:25266158}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_6:{rubicon:{default:{zoneId:1744616}},apnx:{default:{id:25266162}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_7:{rubicon:{default:{zoneId:1744616}},apnx:{default:{id:25266163}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_8:{rubicon:{default:{zoneId:1744616}},apnx:{default:{id:25266164}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_mob_enterprise:{rubicon:{default:{zoneId:1953638}},apnx:{default:{id:25100714}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_2:{rubicon:{default:{zoneId:1953638}},apnx:{default:{id:25266165}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_3:{rubicon:{default:{zoneId:1953638}},apnx:{default:{id:25266166}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_4:{rubicon:{default:{zoneId:1953638}},apnx:{default:{id:25266166}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_5:{rubicon:{default:{zoneId:1953638}},apnx:{default:{id:25266168}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_6:{rubicon:{default:{zoneId:1953638}},apnx:{default:{id:25266169}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_7:{rubicon:{default:{zoneId:1953638}},apnx:{default:{id:25266170}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_8:{rubicon:{default:{zoneId:1953638}},apnx:{default:{id:25266171}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_bigbox:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038604}},apnx:{default:{id:25100717}},trustx:{default:{auid:7223}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_2:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038605}},apnx:{default:{id:25266172}},trustx:{default:{auid:7224}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_3:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038606}},apnx:{default:{id:25266173}},trustx:{default:{auid:7225}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_4:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038607}},apnx:{default:{id:25266174}},trustx:{default:{auid:7226}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_5:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205994}},apnx:{default:{id:25266175}},trustx:{default:{auid:7227}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_6:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205995}},apnx:{default:{id:25266176}},trustx:{default:{auid:7228}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_7:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205996}},apnx:{default:{id:25266177}},trustx:{default:{auid:7229}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_8:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205998}},apnx:{default:{id:25266178}},trustx:{default:{auid:7230}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_fixedBottom:{rubicon:{default:{zoneId:1744620}},openx:{default:{id:540038608}},apnx:{default:{id:25100719}},trustx:{default:{auid:7231}},pubmatic:{default:{tagid:"Wapo_zeus_slug_fixedBottom"}}},slug_bc_bigbox:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:540038613}},apnx:{default:{id:25281138}},trustx:{default:{auid:7236}}},slug_flex_ss_bb_hp:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038616}},apnx:{default:{id:25100691}},trustx:{default:{auid:22823}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_ss_bb_hp"}}},slug_flex_ss_bb_hp_2:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038617}},apnx:{default:{id:25100692}},trustx:{default:{auid:22824}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_ss_bb_hp_2"}}},slug_flex_ss_bb_hp_3:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038618}},apnx:{default:{id:25266102}},trustx:{default:{auid:22825}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_ss_bb_hp"}}},slug_flex_ss_bb_hp_4:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038619}},apnx:{default:{id:25100694}},trustx:{default:{auid:22826}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_ss_bb_hp_4"}}},slug_flex_bb_hp:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038620}},apnx:{default:{id:25100696}},trustx:{default:{auid:15667}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_bb_hp"}}},slug_flex_bb_hp_sm:{openx:{default:{id:541079773}},apnx:{default:{id:25100697}},trustx:{default:{auid:15668}},rubicon:{default:{zoneId:1744622}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_bb_hp_sm"}}},slug_flex_hp:{openx:{default:{id:541079774}},apnx:{default:{id:25100699}},trustx:{default:{auid:15669}},rubicon:{default:{zoneId:1744622}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_hp"}}},slug_bigbox_stay:{openx:{default:{id:541079775}},apnx:{default:{id:25100702}},trustx:{default:{auid:15670}},rubicon:{default:{zoneId:1744614}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox_stay"}}},slug_bigbox_eat:{openx:{default:{id:541079776}},apnx:{default:{id:25100704}},trustx:{default:{auid:15671}},rubicon:{default:{zoneId:1744614}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox_eat"}}},slug_bigbox_do:{openx:{default:{id:541079777}},apnx:{default:{id:25100705}},trustx:{default:{auid:15672}},rubicon:{default:{zoneId:1744614}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox_do"}}},slug_graphic_inline:{openx:{default:{id:541079780}},apnx:{default:{id:25100720}},trustx:{default:{auid:15675}},rubicon:{default:{zoneId:1744624}},pubmatic:{default:{tagid:"Wapo_zeus_slug_graphic_inline"}}},slug_mob_graphic_inline:{apnx:{default:{id:25100724}},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_2:{apnx:{default:{id:25266179}},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_3:{apnx:{default:{id:25266180}},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_4:{apnx:{default:{id:25266181}},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_5:{apnx:{default:{id:25266183}},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_6:{apnx:{default:{id:25266184}},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_7:{apnx:{default:{id:25266186}},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_8:{apnx:{default:{id:25266187}},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}}}}},o=(null==s||null===(e=s.general)||void 0===e?void 0:e.tagName)||"zeus-ad";let a=null;if(!0===(null===(t=s.keyValues)||void 0===t?void 0:t.customKeyvalues)){const e="wapo-neo"===s.customer?"wapo":s.customer;try{a=r(135)("./".concat(e,"/keyvalues/index.js"))}catch(e){}}const u=[],d=Object.keys(s.plugins)||[],l=Object.keys(s.sspConfig.bidders)||[],c={...s.plugins};!async function(e){const t=[Promise.resolve().then(r.bind(r,445)),Promise.resolve().then(r.bind(r,533)),Promise.all(d.map((e=>r(778)("./".concat(e))))),Promise.all(l.map((e=>r(787)("./".concat(e)))))],[i,h,p,f]=await Promise.all(t),{Zeus:g}=i,{AdNode:m}=h,v=new g(s,e);e.zeus=v,p.forEach((e=>{const{init:t,onload:i,name:n}=e;i&&(v.plugins[n]=i(v,c[n])),t&&u.push(e)})),f.forEach((e=>{const{init:t}=e;t&&v.ssps.push(t(v))})),u.forEach((e=>{const{init:t,name:i}=e;v.plugins[i]=t(v,c[i])})),a&&a.hasOwnProperty("init")&&a.init(v),customElements.define(o,new m(v,s.dfpNode)),n(o),v.emit("INIT")}(window)})()})();